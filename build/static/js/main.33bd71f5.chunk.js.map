{"version":3,"sources":["components/CourseEditor/ModuleListItemComponent.js","logo.svg","services/CourseService.js","actions/moduleActions.js","reducers/moduleReducer.js","actions/lessonActions.js","reducers/lessonReducer.js","actions/topicActions.js","reducers/topicReducer.js","actions/widgetActions.js","reducers/widgetReducer.js","services/ModuleService.js","containers/ModuleListContainer.js","services/LessonService.js","components/CourseEditor/LessonTabItemComponent.js","containers/LessonTabContainer.js","services/TopicService.js","components/CourseEditor/TopicPillItemComponent.js","containers/TopicPillContainer.js","services/WidgetService.js","components/CourseEditor/Widgets/WidgetBarComponent.js","components/CourseEditor/Widgets/HeadingWidgetComponent.js","components/CourseEditor/Widgets/ParagraphWidgetComponent.js","components/CourseEditor/Widgets/ListWidgetComponent.js","components/CourseEditor/Widgets/ImageWidgetComponent.js","components/CourseEditor/Widgets/SaveAndPreviewComponent.js","containers/WidgetListContainer.js","components/CourseEditor/CourseEditorComponentStateful.js","components/CourseManager/grid/CourseGridCardComponent.js","components/CourseManager/grid/CourseGridComponent.js","components/CourseManager/row/CourseRowComponent.js","containers/CourseTableContainer.js","components/CourseManager/CourseHeadingComponent.js","components/CourseManager/CourseSearchAndToggleComponent.js","components/CourseManager/CourseListComponent.js","containers/CourseManagerContainer.js","App.js","serviceWorker.js","index.js"],"names":["ModuleListItemComponent","props","state","isEditing","title","module","this","setState","onSelect","event","target","value","newModule","onSave","className","isSelected","onClick","key","_id","onEdit","type","onChange","e","onDelete","React","Component","exports","url","CourseService","course","fetch","method","body","JSON","stringify","headers","response","json","courseId","createModule","Date","getTime","deleteModule","moduleId","findAllModulesForCourse","modules","updateModule","moduleReducer","action","filter","map","createLesson","lesson","newLesson","deleteLesson","lessonId","findAllLessonsForModule","lessons","updateLesson","lessonReducer","createTopic","topic","newTopic","deleteTopic","topicId","findAllTopicsForLesson","topics","updateTopic","topicReducer","id","createWidget","widgetId","name","widgetType","deleteWidget","findAllWidgetsForTopic","widgets","updateWidget","widget","moveWidgetUp","other","moveWidgetDown","saveAllWidgets","widgetReducer","widgetOrder","courseUrl","moduleUrl","ModuleService","service","ModuleListContainer","selectedModuleId","curModuleId","updateModules","findModulesForCourse","history","push","bind","addModule","connect","dispatch","then","actualModule","actualModules","updatedModule","status","lessonUrl","LessonService","LessonTabItemComponent","LessonTabContainer","selectedLessonId","curLessonId","updateLessons","prevProps","findLessonsForModule","addLesson","actualLesson","updatedLesson","TopicService","TopicPillItemComponent","TopicPillContainer","selectedTopicId","curTopicId","updateTopics","findTopicsForLesson","addTopic","actualTopic","actualTopics","updatedTopic","WidgetService","WidgetBarComponent","getLastElement","moveUp","moveDown","defaultValue","width","height","cssClass","style","text","paragraphWidget","imageWidget","items","ordered","listWidget","size","headingWidget","getWidgetByType","Heading","HeadingWidgetComponent","newText","heading","c","length","newSize","parseInt","newName","isPreviewing","updateWidgetType","placeholder","updateWidgetContent","updateHeadingSize","updateWidgetName","ParagraphWidgetComponent","newItemText","curItems","split","newSelection","isOrdered","join","updateWidgetItems","changeOrder","item","ImageWidgetComponent","newUrl","updateWidgetUrl","src","SaveAndPreviewComponent","saveAll","updatePreview","checked","htmlFor","HEADING","DEFAULT_SIZE","WidgetListContainer","nextId","updateWidgets","findWidgetsForTopic","newId","newWidget","newWidgets","x","y","temp","index","indexOf","swapElements","onSaveAll","ListWidgetComponent","addWidget","actualWidgets","returnedWidgets","rootReducer","combineReducers","store","createStore","CourseEditorComponentStateful","selectedCourseId","curPath","location","pathname","hideCourseEditor","closeEditor","courseTitle","match","params","CourseGridCardComponent","newCourse","saveCourse","deleteCourse","onCourseTitleSelect","showCourseEditor","to","onSelectCourse","onSaveCourse","CourseGridComponent","courses","CourseRowComponent","onHighlight","CourseTableContainer","highlightedCourseId","CourseHeadingComponent","CourseSearchAndToggleComponent","updateFormState","addCourse","toggle","aria-label","CourseListComponent","layout","CourseManagerContainer","editingCourse","selectedCourseTitle","newCourseTitle","updateCourses","findAllCourses","createCourse","updateCourse","deletedCourse","prevState","path","exact","render","App","message","a","b","Boolean","window","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.33bd71f5.chunk.js","sourcesContent":["import React from 'react';\nimport '../../../node_modules/bootstrap/dist/css/bootstrap.css'\nimport '../../../node_modules/font-awesome/css/font-awesome.min.css';\nimport './CourseEditor.css'\n\nclass ModuleListItemComponent extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isEditing: false,\n      title: props.module.title\n    };\n  }\n\n  onEdit() {\n    this.setState({isEditing: true});\n    this.props.onSelect();\n  }\n\n  onChange(event) {\n    this.setState({title: event.target.value});\n  }\n\n  onSave() {\n    const newModule = {...this.props.module, title: this.state.title};\n    this.props.onSave(newModule);\n    this.setState({isEditing: false});\n  }\n\n  render() {\n    return (\n      <li className={`list-group-item wbdv-module-item wbdv-module-item-title\n        ${this.props.isSelected ? 'active' : ''}`}\n        onClick={() => this.props.onSelect()} key={module._id}>\n        \n        {!this.state.isEditing &&\n          <div>\n            <span>{this.state.title}</span>\n            <span className=\"float-right\">\n              <i className=\"fa fa-pencil fa-2x\" onClick={() => this.onEdit()}/>\n            </span>\n          </div>\n        }\n        {this.state.isEditing &&\n          <div>\n            <input type=\"text\" className=\"typing-container\"\n              value={this.state.title}\n              onChange={(e) => this.onChange(e)}/>\n            \n            <span className=\"float-right\">\n              <i className=\"fa fa-trash fa-2x\" onClick={() => this.props.onDelete()}/>\n              <i className=\"fa fa-check fa-2x\" onClick={() => this.onSave()}/>\n            </span>\n          </div>\n        }\n      </li>\n    );\n  }\n}\n\nexport default ModuleListItemComponent;\n","module.exports = __webpack_public_path__ + \"static/media/logo.49f98c8e.svg\";","const url = 'https://wbdv-generic-server.herokuapp.com/api/001367674/courses';\n\nclass CourseService {\n\n  async createCourse (course) {\n    const response = await fetch(url, {\n      method: 'POST',\n      body: JSON.stringify(course),\n      headers: {'content-type': 'application/json'}\n    });\n    return await response.json();\n  };\n\n  async findAllCourses () {\n    const response = await fetch(url);\n    return await response.json();\n  }\n\n  async findCourseById (courseId) {\n    const response = await fetch(`${url}/${courseId}`);\n    return await response.json();\n  }\n  \n  async updateCourse (courseId, course) {\n    const response = await fetch(`${url}/${courseId}`, {\n      method: 'PUT',\n      body: JSON.stringify(course),\n      headers: {'content-type': 'application/json'}\n    });\n    return await response.json();\n  }\n\n  async deleteCourse (courseId) {\n    const response = await fetch(`${url}/${courseId}`, {\n      method: 'DELETE'\n    });\n    return await response.json();\n  };\n}\n\nexport default CourseService;","export const CREATE_MODULE = 'CREATE_MODULE';\nexport const DELETE_MODULE = 'DELETE_MODULE';\nexport const FIND_ALL_MODULES_FOR_COURSE = 'FIND_ALL_MODULES_FOR_COURSE';\nexport const UPDATE_MODULE = 'UPDATE_MODULE';\n\nexport const createModule = (module, courseId) => ({\n  title: 'New Module',\n  _id:(new Date()).getTime()+\"\",\n  courseId: courseId,\n  type: CREATE_MODULE,\n  newModule: module\n});\n\nexport const deleteModule = (moduleId) => ({\n  type: DELETE_MODULE,\n  moduleId: moduleId\n});\n\nexport const findAllModulesForCourse = (modules) => ({\n  type: FIND_ALL_MODULES_FOR_COURSE,\n  modules: modules\n});\n\nexport const updateModule = (module) => ({\n  title: module.title,\n  type: UPDATE_MODULE,\n  module: module\n});\n\nexport default {CREATE_MODULE, DELETE_MODULE, FIND_ALL_MODULES_FOR_COURSE, UPDATE_MODULE,\n  deleteModule, createModule, findAllModulesForCourse, updateModule}","import {\n  CREATE_MODULE,\n  DELETE_MODULE,\n  UPDATE_MODULE,\n  FIND_ALL_MODULES_FOR_COURSE}\n  from '../actions/moduleActions'\n\nconst moduleReducer = (state = {modules: []}, action) => {\n  switch(action.type) {\n    case FIND_ALL_MODULES_FOR_COURSE:\n      // Call the service to get all the modules for action.courseId, and set the modules\n      // in the state to the new modules.\n\n      // Someone, somewhere will do something like this:\n      // dispatch({ type: \"setSelectedCourse\", \"i-am-a-course-id\"});\n      return {modules: action.modules};\n    case CREATE_MODULE:\n      return {modules: [...state.modules, action.newModule]};\n    case DELETE_MODULE:\n      return {modules: state.modules.filter(module => module._id !== action.moduleId)};\n    case UPDATE_MODULE:\n      return {modules: state.modules.map(module =>\n        module._id === action.moduleId ? action.module : module)};\n    default:\n      return state\n  }\n};\n\nexport default moduleReducer;","export const CREATE_LESSON = 'CREATE_LESSON';\nexport const DELETE_LESSON = 'DELETE_LESSON';\nexport const FIND_ALL_LESSONS_FOR_MODULE = 'FIND_ALL_LESSONS_FOR_MODULE';\nexport const UPDATE_LESSON = 'UPDATE_LESSON';\n\nexport const createLesson = (moduleId, lesson) => ({\n  title: 'New Lesson',\n  _id:(new Date()).getTime()+\"\",\n  moduleId: moduleId, \n  type: CREATE_LESSON,\n  newLesson: lesson\n});\n\nexport const deleteLesson = (lessonId) => ({\n  type: DELETE_LESSON,\n  lessonId: lessonId\n});\n\nexport const findAllLessonsForModule = (lessons) => ({\n  type: FIND_ALL_LESSONS_FOR_MODULE,\n  lessons: lessons\n});\n\nexport const updateLesson = (lesson) => ({\n  title: lesson.title,\n  type: UPDATE_LESSON,\n  lesson: lesson\n});\n\nexport default {CREATE_LESSON, DELETE_LESSON, FIND_ALL_LESSONS_FOR_MODULE, UPDATE_LESSON,\n  deleteLesson, createLesson, findAllLessonsForModule, updateLesson}","import {\n  CREATE_LESSON,\n  DELETE_LESSON,\n  UPDATE_LESSON,\n  FIND_ALL_LESSONS_FOR_MODULE}\n  from \"../actions/lessonActions\";\n\nconst lessonReducer = (state = {lessons: []}, action) => {\n  switch(action.type) {\n    case FIND_ALL_LESSONS_FOR_MODULE:\n      return {lessons: action.lessons};\n    case CREATE_LESSON:\n      return {lessons: [...state.lessons, action.newLesson]};\n    case DELETE_LESSON:\n      return {lessons: state.lessons.filter(\n        lesson => lesson._id !== action.lessonId)};\n    case UPDATE_LESSON:\n      return {lessons: state.lessons.map(lesson =>\n        lesson._id === action.lessonId ? action.lesson : lesson)};\n    default:\n      return state\n  }\n};\n\nexport default lessonReducer","export const CREATE_TOPIC = 'CREATE_TOPIC';\nexport const DELETE_TOPIC = 'DELETE_TOPIC';\nexport const FIND_ALL_TOPICS_FOR_LESSON = 'FIND_ALL_TOPICS_FOR_LESSON';\nexport const UPDATE_TOPIC = 'UPDATE_TOPIC';\n\nexport const createTopic = (topic) => ({\n  type: CREATE_TOPIC,\n  newTopic: topic\n});\n\nexport const deleteTopic = (topicId) => ({\n  type: DELETE_TOPIC,\n  topicId: topicId\n});\n\nexport const findAllTopicsForLesson = (topics) => ({\n  type: FIND_ALL_TOPICS_FOR_LESSON,\n  topics: topics\n});\n\nexport const updateTopic = (topic) => ({\n  type: UPDATE_TOPIC,\n  topic: topic\n});\n\nexport default {CREATE_TOPIC, DELETE_TOPIC, FIND_ALL_TOPICS_FOR_LESSON, UPDATE_TOPIC,\n  deleteTopic, createTopic, findAllTopicsForLesson, updateTopic}","import {CREATE_TOPIC, DELETE_TOPIC, UPDATE_TOPIC, FIND_ALL_TOPICS_FOR_LESSON}\n  from \"../actions/topicActions\";\n\nconst topicReducer = (state = {topics: []}, action) => {\n  switch(action.type) {\n    case FIND_ALL_TOPICS_FOR_LESSON:\n      return {topics: action.topics};\n    case CREATE_TOPIC:\n      return {topics: [...state.topics, action.newTopic]};\n    case DELETE_TOPIC:\n      return {topics: state.topics.filter(topic => topic.id !== action.topicId)};\n    case UPDATE_TOPIC:\n      return {topics: state.topics.map(topic =>\n        topic.id === action.topic.id ? action.topic : topic)};\n    default:\n      return state\n  }\n};\n\nexport default topicReducer","export const CREATE_WIDGET = 'CREATE_WIDGET';\nexport const DELETE_WIDGET = 'DELETE_WIDGET';\nexport const FIND_ALL_WIDGETS_FOR_TOPIC = 'FIND_ALL_WIDGETS_FOR_TOPIC';\nexport const UPDATE_WIDGET = 'UPDATE_WIDGET';\nexport const MOVE_WIDGET_UP = 'MOVE_WIDGET_UP';\nexport const MOVE_WIDGET_DOWN = 'MOVE_WIDGET_DOWN';\nexport const SAVE_ALL_WIDGETS = 'SAVE_ALL_WIDGETS';\n\n\nexport const createWidget = (topicId, widgetId) => ({\n  name: 'New Widget',\n  widgetType: 'Heading',\n  id: widgetId,\n  // id:(new Date()).getTime(), // TODO, replace with next id\n  topicId: topicId,\n  type: CREATE_WIDGET,\n});\n\nexport const deleteWidget = (widgetId) => ({\n  type: DELETE_WIDGET,\n  widgetId: widgetId,\n});\n\nexport const findAllWidgetsForTopic = (widgets) => ({\n  type: FIND_ALL_WIDGETS_FOR_TOPIC,\n  widgets: widgets\n});\n\nexport const updateWidget = (widget) => ({\n  type: UPDATE_WIDGET,\n  widget: widget\n});\n\nexport const moveWidgetUp = (widget, other) => ({\n  type: MOVE_WIDGET_UP,\n  widget: widget,\n  other: other\n});\n\nexport const moveWidgetDown = (widget, other) => ({\n  type: MOVE_WIDGET_DOWN,\n  widget: widget,\n  other: other\n});\n\nexport const saveAllWidgets = (widgets) => ({\n  widgets: widgets,\n  type: SAVE_ALL_WIDGETS\n});\n\nexport default {\n  CREATE_WIDGET, DELETE_WIDGET, FIND_ALL_WIDGETS_FOR_TOPIC, UPDATE_WIDGET, MOVE_WIDGET_UP, MOVE_WIDGET_DOWN, SAVE_ALL_WIDGETS,\n  deleteWidget, createWidget, findAllWidgetsForTopic, updateWidget, moveWidgetUp, moveWidgetDown, saveAllWidgets\n}","import {\n  CREATE_WIDGET,\n  DELETE_WIDGET,\n  UPDATE_WIDGET,\n  FIND_ALL_WIDGETS_FOR_TOPIC,\n  MOVE_WIDGET_UP,\n  MOVE_WIDGET_DOWN,\n  SAVE_ALL_WIDGETS\n} from '../actions/widgetActions';\n\nconst widgetReducer = (state = { widgets: [] }, action) => {\n  switch (action.type) {\n\n    case FIND_ALL_WIDGETS_FOR_TOPIC:\n      return { widgets: action.widgets };\n\n    case CREATE_WIDGET:\n      return {\n        widgets: [...state.widgets,\n        { name: action.name, widgetType: action.widgetType, id: action.id }]\n      };\n\n    case DELETE_WIDGET:\n      return { widgets: state.widgets.filter(widget => widget.id !== action.widgetId) }\n\n    case UPDATE_WIDGET:\n      return {\n        widgets: state.widgets.map(widget =>\n          widget.id === action.widget.id ? action.widget : widget)\n      };\n    \n      case MOVE_WIDGET_UP:\n      action.widget.widgetOrder--;\n      action.other.widgetOrder++;\n      return {\n        widgets: state.widgets.map(widget =>\n          widget.id === action.other.id ? action.widget :\n            (widget.id === action.widget.id ? action.other : widget))\n      };\n\n    case MOVE_WIDGET_DOWN:\n      action.widget.widgetOrder++;\n      action.other.widgetOrder--;\n\n      return {\n        widgets: state.widgets.map(widget =>\n          widget.id === action.widget.id ? action.other :\n            (widget.id === action.other.id ? action.widget : widget))\n      };\n\n    case SAVE_ALL_WIDGETS:\n      return { widgets: action.widgets };\n\n    default:\n      return state\n  }\n};\n\nexport default widgetReducer;","const courseUrl = 'https://wbdv-generic-server.herokuapp.com/api/001367674/courses';\nconst moduleUrl = 'https://wbdv-generic-server.herokuapp.com/api/001367674/modules';\n\nclass ModuleService {\n  async createModule (courseId, module) {\n    const response = await fetch(`${courseUrl}/${courseId}/modules`, {\n      method: 'POST',\n      body: JSON.stringify(module),\n      headers: {'content-type': 'application/json'}\n    });\n    return await response.json();\n  }\n\n  async findModulesForCourse (courseId) {\n    const response = await fetch(`${courseUrl}/${courseId}/modules`);\n    return await response.json();\n  }\n\n  async getModule(moduleId) {\n    const response = await fetch(`${moduleUrl}/${moduleId}`);\n    return await response.json();\n  }\n\n  async updateModule (moduleId, module) {\n    const response = await fetch(`${moduleUrl}/${moduleId}`, {\n      method: 'PUT',\n      body: JSON.stringify(module),\n      headers: {'content-type': 'application/json'}\n    });\n    return await response.json();\n  }\n\n  async deleteModule (moduleId) {\n    const response = await fetch(`${moduleUrl}/${moduleId}`, {\n      method: 'DELETE'\n    });\n    return await response.json();\n  }\n}\n\nexport default ModuleService;","import React from \"react\";\nimport {connect} from \"react-redux\";\nimport '../../node_modules/bootstrap/dist/css/bootstrap.css'\nimport '../../node_modules/font-awesome/css/font-awesome.min.css';\nimport '../components/CourseEditor/CourseEditor.css';\nimport '../components/CourseManager/CourseManager.css';\nimport {createModule, deleteModule, findAllModulesForCourse, updateModule} from '../actions/moduleActions'\nimport ModuleService from '../services/ModuleService';\nimport ModuleListItemComponent from '../components/CourseEditor/ModuleListItemComponent';\n\nconst service = new ModuleService();\n\nclass ModuleListContainer extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      selectedModuleId: props.curModuleId,\n      modules: [],\n    };\n  }\n\n  componentDidMount() {\n    this.updateModules();\n  }\n\n  async updateModules() {\n    const modules = await service.findModulesForCourse(this.props.courseId);\n    this.setState({modules: modules});\n  }\n\n  async addModule() {\n    await this.props.createModule(this.props.courseId);\n    await this.updateModules();\n  }\n\n  onSelect(moduleId) {\n    this.setState({selectedModuleId: moduleId});\n    this.props.history.push(`/course/${this.props.courseId}/module/${moduleId}`);\n  }\n\n  async onDelete(moduleId) {\n    this.setState({selectedModuleId: moduleId});\n    await this.props.deleteModule(moduleId);\n    await this.updateModules();\n  }\n\n  async onSave(moduleId, newModule) {\n    await this.props.updateModule(moduleId, newModule);\n    await this.updateModules();\n  }\n\n\n  render() {\n    return (\n      <div>\n        <ul className=\"list-group\">\n            {this.state.modules && this.state.modules.map(module =>\n              <ModuleListItemComponent\n                key={module._id}\n                isSelected={module._id === this.state.selectedModuleId}\n                module={module}\n                onSelect={this.onSelect.bind(this, module._id)}\n                onDelete={this.onDelete.bind(this, module._id)}\n                onSave={this.onSave.bind(this, module._id)}/>\n            )}\n        </ul>\n        <i className=\"fa fa-plus-circle fa-3x wbdv-add\"\n          onClick={() => this.addModule()}/>\n      </div>\n    );\n  }\n}\n\nconst stateToPropertyMapper = (state) => {\n  return {modules: state.modules.modules}\n};\n\nconst dispatchToPropertyMapper = (dispatch) => {\n  return {\n    createModule: (courseId) =>\n      service.createModule(courseId, {title: 'New module'})\n      .then(actualModule =>\n          dispatch(createModule(actualModule, courseId))),\n\n    findAllModulesForCourse: (courseId) =>\n      service.findModulesForCourse(courseId)\n      .then(actualModules =>\n          dispatch(findAllModulesForCourse(actualModules))),\n\n    updateModule: (moduleId, module) =>\n      service.updateModule(moduleId, module)\n      .then(updatedModule =>\n          dispatch(updateModule(updatedModule))),\n\n    deleteModule: (moduleId) =>\n      service.deleteModule(moduleId)\n      .then(status =>\n          dispatch(deleteModule(moduleId)))\n  }\n};\n\nexport default connect(\n    stateToPropertyMapper,\n    dispatchToPropertyMapper)\n(ModuleListContainer)","const moduleUrl = 'https://wbdv-generic-server.herokuapp.com/api/001367674/modules';\nconst lessonUrl = 'https://wbdv-generic-server.herokuapp.com/api/001367674/lessons';\n\nclass LessonService {\n  async createLesson (moduleId, lesson) {\n    const response = await fetch(`${moduleUrl}/${moduleId}/lessons`, {\n      method: 'POST',\n      body: JSON.stringify(lesson),\n      headers: {'content-type': 'application/json'}\n    });\n    return await response.json();\n  }\n\n  async findLessonsForModule (moduleId) {\n    const response = await fetch(`${moduleUrl}/${moduleId}/lessons`);\n    return await response.json();\n  }\n\n  async updateLesson (lessonId, lesson) {\n    const response = await fetch(`${lessonUrl}/${lessonId}`, {\n      method: 'PUT',\n      body: JSON.stringify(lesson),\n      headers: {'content-type': 'application/json'}\n    });\n    return await response.json();\n  }\n\n  async deleteLesson (lessonId) {\n    const response = await fetch(`${lessonUrl}/${lessonId}`, {\n      method: 'DELETE'\n    });\n    return await response.json();\n  }\n}\n\nexport default LessonService;","import React from 'react';\nimport '../../../node_modules/bootstrap/dist/css/bootstrap.css'\nimport '../../../node_modules/font-awesome/css/font-awesome.min.css';\nimport './CourseEditor.css'\n\nclass LessonTabItemComponent extends React.Component {\n  \n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isEditing: false,\n      title: props.lesson.title\n    };\n  }\n\n  onEdit() {\n    this.setState({isEditing: true});\n    this.props.onSelect();\n  }\n\n  onChange(event) {\n    this.setState({title: event.target.value});\n  }\n\n  onSave() {\n    const newLesson = {...this.props.lesson, title: this.state.title};\n    this.props.onSave(newLesson);\n    this.setState({isEditing: false});\n  }\n\n  render() {\n    return (\n      <li className={`nav-item nav-link ${this.props.isSelected ? 'active' : ''}`}\n          onClick={() => this.props.onSelect()} key={this.props.lesson._id}>\n\n          {!this.state.isEditing && \n            <div>\n              {this.state.title}\n              <i className=\"fa fa-pencil\" onClick={() => this.onEdit()}/>\n            </div>}\n\n          {this.state.isEditing && \n            <div>\n              <input type=\"text\" className=\"typing-container\"\n                value={this.state.title}\n                onChange={(e) => this.onChange(e)}/>\n\n              <span className=\"float-right\">\n                <i className=\"fa fa-trash\" onClick={() => this.props.onDelete()}/>\n                <i className=\"fa fa-check\" onClick={() => this.onSave()}/>\n              </span>\n            </div>\n          }\n      </li>\n    );\n  }\n}\n\nexport default LessonTabItemComponent;","import React from 'react';\nimport {connect} from \"react-redux\";\nimport '../../node_modules/bootstrap/dist/css/bootstrap.css'\nimport '../../node_modules/font-awesome/css/font-awesome.min.css';\nimport '../components/CourseEditor/CourseEditor.css';\nimport '../components/CourseManager/CourseManager.css';\nimport {createLesson, deleteLesson, findAllLessonsForModule, updateLesson} from '../actions/lessonActions'\nimport LessonService from '../services/LessonService';\nimport LessonTabItemComponent from '../components/CourseEditor/LessonTabItemComponent';\n\nconst service = new LessonService();\n\nclass LessonTabContainer extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state={\n      selectedLessonId: props.curLessonId,\n      lessons: []\n    }\n  }\n\n  componentDidMount() {\n    this.updateLessons();\n  }\n  \n  componentDidUpdate(prevProps) {\n    if (prevProps.moduleId !== this.props.moduleId) {\n      this.updateLessons();\n    }\n  }\n\n  async updateLessons() {\n    const lessons = await service.findLessonsForModule(this.props.moduleId);\n    this.setState({lessons: lessons});\n  }\n\n  async addLesson() {\n    await this.props.createLesson(this.props.moduleId);\n    this.updateLessons();\n  }\n\n  onSelect(lessonId) {\n    this.setState({selectedLessonId: lessonId});\n    this.props.history.push(`/course/${this.props.courseId}/module/${this.props.moduleId}/lesson/${lessonId}`);\n  }\n\n  async onDelete(lessonId) {\n    this.setState({selectedLessonId: lessonId});\n    await this.props.deleteLesson(lessonId);\n    await this.updateLessons();\n  }\n\n  async onSave(lessonId, newLesson) {\n    await this.props.updateLesson(lessonId, newLesson);\n    await this.updateLessons();\n  }\n\n  render() {\n    return (\n      <ul className=\"nav nav-tabs wbdv-margin-below wbdv-category\">\n        {this.state.lessons && this.state.lessons.map(lesson =>\n          <LessonTabItemComponent\n            key={lesson._id}\n            isSelected={lesson._id === this.state.selectedLessonId}\n            lesson={lesson}\n            onSelect={this.onSelect.bind(this, lesson._id)}\n            onDelete={this.onDelete.bind(this, lesson._id)}\n            onSave={this.onSave.bind(this, lesson._id)}/>\n        )}\n        <li className=\"nav-item\" onClick={() => this.addLesson()}>\n            <i className=\"nav-link fa fa-plus-circle fa-2x\"/>\n        </li>\n      </ul>\n    );\n  }\n}\n\nconst stateToPropertyMapper = (state) => {\n  return {lessons: state.lessons.lessons}\n}\n\nconst dispatchToPropertyMapper = (dispatch) => {\n  return {\n    createLesson: (moduleId) =>\n      service.createLesson(moduleId, {title: 'New lesson'})\n      .then(actualLesson =>\n          dispatch(createLesson(actualLesson, moduleId))),\n\n    findAllLessonsForModule: (moduleId) =>\n      service.findLessonsForModule(moduleId)\n      .then(actualLesson =>\n          dispatch(findAllLessonsForModule(actualLesson))),\n\n    updateLesson: (lessonId, lesson) =>\n      service.updateLesson(lessonId, lesson)\n      .then(updatedLesson =>\n          dispatch(updateLesson(updatedLesson))),\n\n    deleteLesson: (lessonId) =>\n      service.deleteLesson(lessonId)\n      .then(status =>\n          dispatch(deleteLesson(lessonId)))\n  }\n};\n\nexport default connect(\n    stateToPropertyMapper,\n    dispatchToPropertyMapper)\n(LessonTabContainer)","const oldUrl = 'https://wbdv-generic-server.herokuapp.com/api/001367674';\nconst localUrl = 'http://localhost:8080/api';\nconst herokuUrl = 'https://serene-island-60523.herokuapp.com/api';\n\nconst getBaseUrl = () => herokuUrl;\n\nclass TopicService {\n  async createTopic(lessonId) {\n    const response = await fetch(`${getBaseUrl()}/lessons/${lessonId}/topics`, {\n      method: 'POST',\n      headers: {'content-type': 'application/json'}\n    });\n    return await response.json();\n  }\n\n  async findTopicsForLesson(lessonId) {\n    const response = await fetch(`${getBaseUrl()}/lessons/${lessonId}/topics`);\n    return await response.json();\n  }\n\n  async findAllTopics() {\n    const response = await fetch(`${getBaseUrl()}/topics`);\n    return await response.json();\n  }\n\n  async findTopicById(topicId) {\n    const response = await fetch(`${getBaseUrl()}/topics/${topicId}`);\n    return await response.json();\n  }\n\n  async updateTopic(topicId, topic) {\n    const response = await fetch(`${getBaseUrl()}/topics/${topicId}`, {\n      method: 'PUT',\n      body: JSON.stringify(topic),\n      headers: {'content-type': 'application/json'}\n    });\n    return await response.json();\n  }\n\n  async deleteTopic(topicId) {\n    const response = await fetch(`${getBaseUrl()}/topics/${topicId}`, {\n      method: 'DELETE'\n    });\n    return await response.json();\n  }\n}\n\nexport default TopicService;","import React from \"react\";\nimport '../../../node_modules/bootstrap/dist/css/bootstrap.css'\nimport '../../../node_modules/font-awesome/css/font-awesome.min.css';\nimport './CourseEditor.css'\n\nclass TopicPillItemComponent extends React.Component {\n  \n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isEditing: false,\n      title: props.topic.title\n    };\n  }\n  \n  onEdit() {\n    this.setState({isEditing: true});\n    this.props.onSelect();\n  }\n\n  onChange(event) {\n    this.setState({title: event.target.value});\n  }\n\n  onSave() {\n    const newTopic = {...this.props.topic, title: this.state.title};\n    this.props.onSave(newTopic);\n    this.setState({isEditing: false});\n  }\n\n  render() {\n    return (\n      <li className={`nav-item nav-link ${this.props.isSelected ? 'active' : ''}`}\n          onClick={() => this.props.onSelect()} key={this.props.topic.id}>\n          {!this.state.isEditing && \n            <div>\n              {this.state.title}\n              <i className=\"fa fa-pencil\" onClick={() => this.onEdit()}/>\n            </div>}\n\n          {this.state.isEditing && \n            <div>\n              <input type=\"text\" className=\"typing-container\"\n                value={this.state.title}\n                onChange={(e) => this.onChange(e)}/>\n\n              <span className=\"float-right\">\n                <i className=\"fa fa-trash\" onClick={() => this.props.onDelete()}/>\n                <i className=\"fa fa-check\" onClick={() => this.onSave()}/>\n              </span>\n            </div>\n          }\n      </li>\n    );\n  }\n}\n\nexport default TopicPillItemComponent;","import React from \"react\";\nimport {connect} from \"react-redux\";\nimport '../../node_modules/bootstrap/dist/css/bootstrap.css'\nimport '../../node_modules/font-awesome/css/font-awesome.min.css';\nimport '../components/CourseEditor/CourseEditor.css';\nimport '../components/CourseManager/CourseManager.css';\nimport {createTopic, deleteTopic, findAllTopicsForLesson, updateTopic} from '../actions/topicActions'\nimport TopicService from '../services/TopicService'\nimport TopicPillItemComponent from \"../components/CourseEditor/TopicPillItemComponent\";\n\nconst service = new TopicService();\n\nclass TopicPillContainer extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      selectedTopicId: props.curTopicId,\n      topics: [],\n    };\n  }\n\n  componentDidMount() {\n    this.updateTopics();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.lessonId !== this.props.lessonId) {\n      this.updateTopics();\n    }\n  }\n\n  async updateTopics() {\n    const topics = await service.findTopicsForLesson(this.props.lessonId);\n    this.setState({topics: topics});\n  }\n\n  async addTopic() {\n    await this.props.createTopic(this.props.lessonId);\n    this.updateTopics();\n  }\n\n  onSelect(topicId) {\n    this.setState({selectedTopicId: topicId});\n    this.props.history.push(\n        `/course/${this.props.courseId}/module/${this.props.moduleId}/lesson/${this.props.lessonId}/topic/${topicId}`\n    );\n  }\n\n  async onDelete(topicId) {\n    this.setState({selectedTopicId: topicId});\n    await this.props.deleteTopic(topicId);\n    await this.updateTopics();\n  }\n\n  async onSave(topicId, newTopic) {\n    await this.props.updateTopic(topicId, newTopic);\n    await this.updateTopics();\n  }\n\n  render() {\n    return (\n        <ul className=\"nav nav-pills wbdv-margin-below wbdv-category\">\n          {this.state.topics && this.state.topics.map(topic =>\n              <TopicPillItemComponent\n                  key={topic.id}\n                  isSelected={topic.id === this.state.selectedTopicId}\n                  topic={topic}\n                  onSelect={this.onSelect.bind(this, topic.id)}\n                  onDelete={this.onDelete.bind(this, topic.id)}\n                  onSave={this.onSave.bind(this, topic.id)}/>\n          )}\n          <li className=\"nav-item\" onClick={() => this.addTopic()}>\n            <i className=\"nav-link fa fa-plus-circle fa-2x\"/>\n          </li>\n        </ul>\n    );\n  }\n}\n// Receives the entire store state and returns an\n// object of data this component needs\nconst stateToPropertyMapper = (state) => {\n  return {\n    topics: state.topics.topics\n  }\n};\n\n// fetches data from the server\nconst dispatchToPropertyMapper = (dispatch) => {\n  return {\n    createTopic: (lessonId) =>\n        service.createTopic(lessonId)\n        .then(actualTopic => dispatch(createTopic(actualTopic))),\n\n    findAllTopicsForLesson: (lessonId) =>\n        service.findTopicsForLesson(lessonId)\n        .then(actualTopics =>\n            dispatch(findAllTopicsForLesson(actualTopics))),\n\n    updateTopic: (topicId, topic) =>\n        service.updateTopic(topicId, topic)\n        .then(updatedTopic =>\n            dispatch(updateTopic(updatedTopic))),\n\n    deleteTopic: (topicId) =>\n        service.deleteTopic(topicId)\n        .then(status =>\n            dispatch(deleteTopic(topicId)))\n  }\n}\n\nexport default connect(\n    stateToPropertyMapper,\n    dispatchToPropertyMapper)\n(TopicPillContainer)\n\n","const oldUrl = 'https://wbdv-generic-server.herokuapp.com/api/001367674';\nconst localUrl = 'http://localhost:8080/api';\nconst herokuUrl = 'https://serene-island-60523.herokuapp.com/api';\n\nconst getBaseUrl = () => herokuUrl;\n\nclass WidgetService {\n    async createWidget(topicId, widget) {\n        const response = await fetch(`${getBaseUrl()}/topics/${topicId}/widgets`, {\n            method: 'POST',\n            body: JSON.stringify(widget),\n            headers: {'content-type': 'application/json'}\n        });\n        return await response.json();\n    }\n    \n    async findWidgetsForTopic(topicId) {\n        const response = await fetch(`${getBaseUrl()}/topics/${topicId}/widgets`);\n        return await response.json();\n    }\n  \n    async updateWidget(widgetId, widget) {\n      const response = await fetch(`${getBaseUrl()}/widgets/${widgetId}`, {\n        method: 'PUT',\n        body: JSON.stringify(widget),\n        headers: {'content-type': 'application/json'}\n      });\n      return await response.json();\n    }\n  \n    async deleteWidget(widgetId) {\n        const response = await fetch(`${getBaseUrl()}/widgets/${widgetId}`, {\n            method: 'DELETE'\n        });\n        return await response.json();\n    }\n\n    async saveAllWidgets(topicId, widgets) {\n        const response = await fetch(`${getBaseUrl()}/topics/${topicId}/widgets`, {\n            method: 'PUT',\n            body: JSON.stringify(widgets),\n            headers: {'content-type': 'application/json'}\n        });\n        return await response.json();\n    }\n\n    async findAllWidgets() {\n        const response = await fetch(`${getBaseUrl()}/widgets`);\n        return await response.json();\n    }\n    \n    async findWidgetById(widgetId) {\n        const response = await fetch(`${getBaseUrl()}/widgets/${widgetId}`);\n        return await response.json();\n    }\n  }\n  \n  export default WidgetService;","import React from \"react\";\nimport '../../../../node_modules/bootstrap/dist/css/bootstrap.css';\nimport '../../../../node_modules/font-awesome/css/font-awesome.min.css';\nimport '../CourseEditor.css'\nimport '../../CourseManager/CourseManager.css'\n\nconst HEADING = 'Heading';\nconst PARAGRAPH = 'Paragraph';\nconst IMAGE = 'Image';\nconst LIST = 'List';\nconst DEFAULT_SIZE = 1;\n\nconst headingWidget = (id, widgetOrder) => {\n  return { id: id, name: \"\", widgetType: HEADING, widgetOrder: widgetOrder, width: -1, height: -1, cssClass: \"\", style: \"\", value: \"\", text: \"\", size: DEFAULT_SIZE };\n}\nconst paragraphWidget = (id, widgetOrder) => {\n  return { id: id, name: \"\", widgetType: PARAGRAPH, widgetOrder: widgetOrder, width: -1, height: -1, cssClass: \"\", style: \"\", value: \"\", text: \"\" };\n}\nconst imageWidget = (id, widgetOrder) => {\n  return { id: id, name: \"\", widgetType: IMAGE, widgetOrder: widgetOrder, width: -1, height: -1, cssClass: \"\", style: \"\", value: \"\", url: \"\" };\n}\nconst listWidget = (id, widgetOrder) => {\n  return { id: id, name: \"\", widgetType: LIST, widgetOrder: widgetOrder, width: -1, height: -1, cssClass: \"\", style: \"\", value: \"\", items: [], ordered: false };\n}\n\nconst getWidgetByType = (widgetId, widgetOrder, type) => {\n  switch(type) {\n    case PARAGRAPH:\n      return paragraphWidget(widgetId, widgetOrder);\n    case IMAGE:\n      return imageWidget(widgetId, widgetOrder);\n    case LIST:\n      return listWidget(widgetId, widgetOrder);\n    default:\n      return headingWidget(widgetId, widgetOrder);\n  }\n}\n\nconst WidgetBarComponent = ({ type, widget, widgetOrder, getLastElement,\n  moveUp, moveDown, updateWidget, onDelete }) =>\n  <div className=\"row wbdv-margin-below col-sm-11\">\n    <h3 className={\"wbdv-heading-widget\"}>{type} Widget</h3>\n    <div className=\"col wbdv-edit-widget\">\n      <div className=\"row row-right\">\n\n        {\n          widgetOrder > 0 &&\n          <button type=\"button\"\n            className=\"btn btn-sm btn-outline-dark wbdv-arrow col-sm-1\"\n            onClick={() => moveUp()} key={widget.id}>\n            <i className=\"fa fa-arrow-up pt-1 fa-1x\" />\n          </button>\n        }\n\n        {\n          widgetOrder < getLastElement() &&\n          <button type=\"button\"\n            className=\"btn btn-sm btn-outline-dark wbdv-arrow col-sm-1\"\n            onClick={() => moveDown()} key={widget}>\n            <i className=\"fa fa-arrow-down pt-1 fa-1x\" />\n          </button>\n        }\n\n        <div className=\"col-sm-5\">\n          <select className=\"form-control\" defaultValue={type}\n            onChange={(e) => updateWidget(getWidgetByType(widget.id, widgetOrder, e.target.value))}>\n            <option>Heading</option>\n            <option>Paragraph</option>\n            <option>Image</option>\n            <option>List</option>\n          </select>\n        </div>\n        <i className=\"fa fa-times fa-2x pt-1 pr-2\"\n          onClick={() => onDelete()} />\n      </div>\n    </div>\n  </div>;\n\nexport default WidgetBarComponent;","import React from \"react\";\nimport WidgetBarComponent from \"./WidgetBarComponent\";\n\nconst HEADING_TYPE = 'Heading';\n\nconst Heading = ({ size, text }) =>\n  <div className=\"form-group row\">\n    {size === 1 && <h1>{text}</h1>}\n    {size === 2 && <h2>{text}</h2>}\n    {size === 3 && <h3>{text}</h3>}\n    {size === 4 && <h4>{text}</h4>}\n    {size === 5 && <h5>{text}</h5>}\n    {size === 6 && <h6>{text}</h6>}\n  </div>;\n\nclass HeadingWidgetComponent extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      widget: props.widget,\n      size: props.size,\n      name: props.name,\n      text: props.text,\n      widgetOrder: props.widgetOrder\n    };\n    this.state.widget.size = this.props.size;\n    this.state.widget.name = this.props.name;\n    this.state.widget.text = this.props.text;\n    this.state.widget.widgetOrder = this.props.widgetOrder;\n    this.state.widget.widgetType = HEADING_TYPE;\n  }\n\n  updateWidgetContent(newText) {\n    this.state.widget.text = newText;\n    this.props.updateWidget(this.state.widget);\n    this.setState({ text: newText });\n  }\n\n  updateHeadingSize(heading) {\n    let c = heading[heading.length - 1];\n    let newSize = parseInt(c);\n    this.state.widget.size = newSize;\n    this.props.updateWidget(this.state.widget);\n    this.setState({ size: newSize });\n  }\n\n  updateWidgetName(newName) {\n    this.state.widget.name = newName;\n    this.props.updateWidget(this.state.widget);\n    this.setState({ name: newName });\n  }\n\n  render() {\n    return (\n      <span>\n        {!this.props.isPreviewing &&\n          <span>\n            <WidgetBarComponent\n              key={this.props.widget.id}\n              type={HEADING_TYPE}\n              widget={this.props.widget}\n              widgetOrder={this.props.widgetOrder}\n              getLastElement={this.props.getLastElement}\n              moveUp={this.props.moveUp}\n              moveDown={this.props.moveDown}\n              updateWidget={this.props.updateWidgetType}\n              onDelete={this.props.onDelete}/>\n            <div className=\"form-group row\">\n              <div className=\"col-sm-10\">\n                <input className=\"form-control wbdv-placeholder\"\n                  placeholder=\"Heading text\"\n                  defaultValue={this.props.text}\n                  onChange={(e) => this.updateWidgetContent(e.target.value)} />\n              </div>\n            </div>\n\n            <div className=\"form-group row\">\n              <div className=\"col-sm-10\">\n\n                <select className=\"form-control\"\n                  defaultValue={`Heading ${this.props.size}`}\n                  onChange={(e) => this.updateHeadingSize(e.target.value)}>\n                  <option>Heading 1</option>\n                  <option>Heading 2</option>\n                  <option>Heading 3</option>\n                  <option>Heading 4</option>\n                  <option>Heading 5</option>\n                  <option>Heading 6</option>\n                </select>\n              </div>\n            </div>\n\n            <div className=\"form-group row\">\n              <div className=\"col-sm-10\">\n                <input className=\"form-control wbdv-placeholder\"\n                  defaultValue={this.props.name}\n                  placeholder=\"Widget name\"\n                  onChange={(e) => this.updateWidgetName(e.target.value)} />\n              </div>\n            </div>\n\n            <div className=\"form-group row\">\n              <h4 className=\"col-sm-10\">Preview</h4>\n            </div>\n          </span>\n        }\n        <Heading\n          size={this.state.size}\n          text={this.state.text}\n        />\n      </span>\n    )\n  }\n}\n\nexport default HeadingWidgetComponent;","import React from \"react\";\nimport WidgetBarComponent from \"./WidgetBarComponent\";\n\nconst PARAGRAPH_TYPE = 'Paragraph';\n\nclass ParagraphWidgetComponent extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      widget: props.widget,\n      text: props.text,\n      name: props.name,\n      widgetOrder: props.widgetOrder\n    }\n    this.state.widget.name = this.props.name;\n    this.state.widget.text = this.props.text;\n    this.state.widget.widgetOrder = this.props.widgetOrder;\n    this.state.widget.widgetType = PARAGRAPH_TYPE;\n  }\n\n  updateWidgetContent(newText) {\n    this.state.widget.text = newText;\n    this.props.updateWidget(this.state.widget);\n    this.setState({ text: newText });\n  }\n\n  updateWidgetName(newName) {\n    this.state.widget.name = newName;\n    this.props.updateWidget(this.state.widget);\n    this.setState({ name: newName });\n  }\n\n  render() {\n    return (\n      <span>\n        {!this.props.isPreviewing &&\n          <span>\n            <WidgetBarComponent\n              key={this.props.widget.id}\n              type={PARAGRAPH_TYPE}\n              widget={this.props.widget}\n              widgetOrder={this.props.widgetOrder}\n              getLastElement={this.props.getLastElement}\n              moveUp={this.props.moveUp}\n              moveDown={this.props.moveDown}\n              updateWidget={this.props.updateWidgetType}\n              onDelete={this.props.onDelete} />\n            <div className=\"form-group row\">\n              <div className=\"col-sm-10\">\n                <textarea\n                  type=\"text\"\n                  className=\"form-control wbdv-placeholder\"\n                  placeholder=\"Paragraph text\"\n                  defaultValue={this.props.text}\n                  onChange={(e) => this.updateWidgetContent(e.target.value)} />\n              </div>\n            </div>\n\n            <div className=\"form-group row\">\n              <div className=\"col-sm-10\">\n                <input className=\"form-control wbdv-placeholder\"\n                  placeholder=\"Widget name\"\n                  defaultValue={this.state.name}\n                  onChange={(e) => this.updateWidgetName(e.target.value)} />\n              </div>\n            </div>\n\n            <div className=\"form-group row\">\n              <h4 className=\"col-sm-10\">Preview</h4>\n            </div>\n          </span>\n        }\n        <div className=\"form-group row\">\n          {this.state.text}\n        </div>\n      </span>\n    )\n  }\n}\n\nexport default ParagraphWidgetComponent;","import React from \"react\";\nimport WidgetBarComponent from \"./WidgetBarComponent\";\n\nconst LIST_TYPE = 'List';\nconst ORDERED = 'Ordered list';\nconst UNORDERED = 'Unordered list';\n\nclass ParagraphWidgetComponent extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\twidget: props.widget,\n\t\t\titems: props.items || [],\n\t\t\tname: props.name,\n\t\t\tordered: props.widget.ordered,\n\t\t\twidgetOrder: props.widgetOrder\n\t\t}\n\n\t\tthis.state.widget.name = this.props.name;\n\t\tthis.state.widget.items = this.props.items;\n\t\tthis.state.widget.widgetOrder = this.props.widgetOrder;\n\t\tthis.state.widget.widgetType = LIST_TYPE;\n\t}\n\n\tupdateWidgetItems(newItemText) {\n\t\tlet curItems = newItemText ? newItemText.split('\\n') : [];\n\t\tthis.state.widget.items = curItems;\n\t\tthis.props.updateWidget(this.state.widget);\n\t\tthis.setState({ items: curItems });\n\t}\n\n\tupdateWidgetName(newName) {\n\t\tthis.state.widget.name = newName;\n\t\tthis.props.updateWidget(this.state.widget);\n\t\tthis.setState({ name: newName });\n\t}\n\n\tchangeOrder(newSelection) {\n\t\tlet isOrdered = (newSelection === ORDERED) ? true : false;\n\t\tthis.state.widget.ordered = isOrdered;\n\t\tthis.props.updateWidget(this.state.widget);\n\t\tthis.setState({ ordered: isOrdered });\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<span>\n\t\t\t\t{!this.props.isPreviewing &&\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<WidgetBarComponent\n\t\t\t\t\t\t\tkey={this.props.widget.id}\n\t\t\t\t\t\t\ttype={LIST_TYPE}\n\t\t\t\t\t\t\twidget={this.props.widget}\n\t\t\t\t\t\t\twidgetOrder={this.props.widgetOrder}\n\t\t\t\t\t\t\tgetLastElement={this.props.getLastElement}\n\t\t\t\t\t\t\tmoveUp={this.props.moveUp}\n\t\t\t\t\t\t\tmoveDown={this.props.moveDown}\n\t\t\t\t\t\t\tupdateWidget={this.props.updateWidgetType}\n\t\t\t\t\t\t\tonDelete={this.props.onDelete} />\n\t\t\t\t\t\t<div className=\"form-group row\">\n\t\t\t\t\t\t\t<div className=\"col-sm-10\">\n\t\t\t\t\t\t\t\t<textarea type=\"text\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control wbdv-placeholder\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Enter one list item per line\"\n\t\t\t\t\t\t\t\t\tdefaultValue={this.props.items.join('\\n')}\n\t\t\t\t\t\t\t\t\tonChange={(e) => this.updateWidgetItems(e.target.value)} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"form-group row\">\n\t\t\t\t\t\t\t<div className=\"col-sm-10\">\n\n\t\t\t\t\t\t\t\t<select className=\"form-control\"\n\t\t\t\t\t\t\t\t\tdefaultValue={this.state.ordered ? ORDERED : UNORDERED}\n\t\t\t\t\t\t\t\t\tonChange={(e) => this.changeOrder(e.target.value)}>\n\t\t\t\t\t\t\t\t\t<option>{ORDERED}</option>\n\t\t\t\t\t\t\t\t\t<option>{UNORDERED}</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"form-group row\">\n\t\t\t\t\t\t\t<div className=\"col-sm-10\">\n\t\t\t\t\t\t\t\t<input className=\"form-control wbdv-placeholder\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Widget name\"\n\t\t\t\t\t\t\t\t\tdefaultValue={this.state.name}\n\t\t\t\t\t\t\t\t\tonChange={(e) => this.updateWidgetName(e.target.value)} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"form-group row\">\n\t\t\t\t\t\t\t<h4 className=\"col-sm-10\">Preview</h4>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</span>\n\t\t\t\t}\n\t\t\t\t<div className=\"form-group row\">\n\t\t\t\t\t{this.state.items &&\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t{this.state.ordered && <ol>{this.state.items.map(item => <li>{item}</li>)}</ol>}\n\t\t\t\t\t\t\t{!this.state.ordered && <ul>{this.state.items.map(item => <li>{item}</li>)}</ul>}\n\t\t\t\t\t\t</span>}\n\t\t\t\t</div>\n\t\t\t</span>\n\t\t)\n\t}\n}\n\nexport default ParagraphWidgetComponent;","import React from \"react\";\nimport WidgetBarComponent from \"./WidgetBarComponent\";\n\nconst IMAGE_TYPE = 'Image';\n\nclass ImageWidgetComponent extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\twidget: props.widget,\n\t\t\tname: props.name,\n\t\t\turl: props.url,\n\t\t\twidgetOrder: props.widgetOrder\n\t\t};\n\t\tthis.state.widget.name = this.props.name;\n\t\tthis.state.widget.url = this.props.url;\n\t\tthis.state.widget.widgetOrder = this.props.widgetOrder;\n\t\tthis.state.widget.widgetType = IMAGE_TYPE;\n\t}\n\n\tupdateWidgetUrl(newUrl) {\n\t\tthis.state.widget.url = newUrl;\n\t\tthis.props.updateWidget(this.state.widget);\n\t\tthis.setState({ url: newUrl });\n\t}\n\n\tupdateWidgetName(newName) {\n\t\tthis.state.widget.name = newName;\n\t\tthis.props.updateWidget(this.state.widget);\n\t\tthis.setState({ name: newName });\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<span>\n\t\t\t\t{!this.props.isPreviewing &&\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<WidgetBarComponent\n\t\t\t\t\t\t\tkey={this.props.widget.id}\n\t\t\t\t\t\t\ttype={IMAGE_TYPE}\n\t\t\t\t\t\t\twidget={this.props.widget}\n\t\t\t\t\t\t\twidgetOrder={this.props.widgetOrder}\n\t\t\t\t\t\t\tgetLastElement={this.props.getLastElement}\n\t\t\t\t\t\t\tmoveUp={this.props.moveUp}\n\t\t\t\t\t\t\tmoveDown={this.props.moveDown}\n\t\t\t\t\t\t\tupdateWidget={this.props.updateWidgetType}\n\t\t\t\t\t\t\tonDelete={this.props.onDelete} />\n\t\t\t\t\t\t<div className=\"form-group row\">\n\t\t\t\t\t\t\t<div className=\"col-sm-10\">\n\t\t\t\t\t\t\t\t<input className=\"form-control wbdv-placeholder\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Image URL\"\n\t\t\t\t\t\t\t\t\tdefaultValue={this.props.url}\n\t\t\t\t\t\t\t\t\tonChange={(e) => this.updateWidgetUrl(e.target.value)} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"form-group row\">\n\t\t\t\t\t\t\t<div className=\"col-sm-10\">\n\t\t\t\t\t\t\t\t<input className=\"form-control wbdv-placeholder\"\n\t\t\t\t\t\t\t\t\tdefaultValue={this.props.name}\n\t\t\t\t\t\t\t\t\tplaceholder=\"Widget name\"\n\t\t\t\t\t\t\t\t\tonChange={(e) => this.updateWidgetName(e.target.value)} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"form-group row\">\n\t\t\t\t\t\t\t<h4 className=\"col-sm-10\">Preview</h4>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</span>\n\t\t\t\t}\n\t\t\t\t<img src={this.state.url} />\n\t\t\t</span>\n\t\t)\n\t}\n}\n\nexport default ImageWidgetComponent;","import React from \"react\";\nimport '../../../../node_modules/bootstrap/dist/css/bootstrap.css';\nimport '../../../../node_modules/font-awesome/css/font-awesome.min.css';\nimport '../CourseEditor.css'\nimport '../../CourseManager/CourseManager.css'\n\nconst SaveAndPreviewComponent = ({ saveAll, isPreviewing, updatePreview }) =>\n\t<div className={\"row col-sm-10\"}>\n\t\t<div id=\"wbdv-preview\">\n\t\t\t<button type=\"button\" className=\"btn btn-success\" id={\"wbdv-save\"} onClick={() => saveAll()}>\n\t\t\t\tSave All</button>\n\t\t</div>\n\t\t<div className=\"custom-control custom-switch wbdv-preview\">\n\t\t\t<input type=\"checkbox\"\n\t\t\t\tclassName=\"custom-control-input wbdv-preview-icon\"\n\t\t\t\tid=\"customSwitch\"\n\t\t\t\tchecked={isPreviewing}\n\t\t\t\tonChange={() => updatePreview()} />\n\t\t\t<label className=\"custom-control-label wbdv-preview\"\n\t\t\t\thtmlFor=\"customSwitch\">Preview</label>\n\t\t</div>\n\t</div>;\n\nexport default SaveAndPreviewComponent;","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport '../../node_modules/bootstrap/dist/css/bootstrap.css'\nimport '../../node_modules/font-awesome/css/font-awesome.min.css';\nimport '../components/CourseEditor/CourseEditor.css';\nimport '../components/CourseManager/CourseManager.css';\nimport { createWidget, deleteWidget, findAllWidgetsForTopic, updateWidget, saveAllWidgets, moveWidgetUp, moveWidgetDown } from '../actions/widgetActions';\nimport WidgetService from '../services/WidgetService';\nimport HeadingWidgetComponent from '../components/CourseEditor/Widgets/HeadingWidgetComponent';\nimport ParagraphWidgetComponent from '../components/CourseEditor/Widgets/ParagraphWidgetComponent';\nimport ListWidgetComponent from '../components/CourseEditor/Widgets/ListWidgetComponent';\nimport ImageWidgetComponent from \"../components/CourseEditor/Widgets/ImageWidgetComponent\";\nimport SaveAndPreviewComponent from '../components/CourseEditor/Widgets/SaveAndPreviewComponent';\n\nconst service = new WidgetService();\n\nconst headingWidget = (id, widgetOrder) => {\n  return { id: id, name: \"\", widgetType: HEADING, widgetOrder: widgetOrder, width: -1, height: -1, cssClass: \"\", style: \"\", value: \"\", text: \"\", size: DEFAULT_SIZE };\n}\n\nconst HEADING = 'Heading';\nconst PARAGRAPH = 'Paragraph';\nconst IMAGE = 'Image';\nconst LIST = 'List';\nconst DEFAULT_SIZE = 1;\n\nclass WidgetListContainer extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      widgets: [],\n      nextId: -1,\n      isPreviewing: false\n    };\n\n    this.updateWidgets();\n  }\n\n  getLastElement() {\n    return this.state.widgets.length - 1;\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.topicId !== this.props.topicId) {\n      this.updateWidgets();\n    }\n  }\n\n  async onSaveAll() {\n    await this.props.saveAllWidgets(this.props.topicId, this.state.widgets);\n  }\n\n  async updateWidgets() {\n    const widgets = await service.findWidgetsForTopic(this.props.topicId);\n    this.setState({ widgets: widgets });\n  }\n\n  async addWidget() {\n    let newId = this.state.nextId;\n    this.setState({ nextId: --this.state.nextId });\n    // let newWidget = headingWidget((new Date()).getTime(), this.state.widgets.length);\n    let newWidget = headingWidget(newId, this.state.widgets.length);\n    this.setState({ widgets: [...this.state.widgets, newWidget] });\n    // this.props.createWidget(this.props.topicId, widgetId);\n  }\n\n  onDelete(widgetId) {\n    let newWidgets = this.state.widgets.filter(widget => widget.id !== widgetId);\n    this.setState({ widgets: newWidgets });\n    // this.props.deleteWidget(widgetId);\n  }\n\n  swapElements(widgets, x, y) {\n    let temp = widgets[x];\n    widgets[x] = widgets[y];\n    widgets[y] = temp;\n    widgets[x].widgetOrder = x;\n    widgets[y].widgetOrder = y;\n    return widgets;\n  }\n\n  async moveUp(widget) {\n    let index = this.state.widgets.indexOf(widget);\n    this.setState(\n      { widgets: this.swapElements(this.state.widgets, index, index - 1) });\n    // this.props.moveWidgetUp(widget, this.state.widgets[index - 1]);\n  }\n\n  async moveDown(widget) {\n    let index = this.state.widgets.indexOf(widget);\n    this.setState(\n      { widgets: this.swapElements(this.state.widgets, index, index + 1) });\n    // this.props.moveWidgetDown(widget, this.state.widgets[index + 1]);\n  }\n\n  updateWidget(newWidget) {\n    this.setState({\n      widgets: this.state.widgets.map(widget =>\n        widget.id === newWidget.id ? newWidget : widget)\n    });\n  }\n\n  updatePreview() {\n    this.setState({ isPreviewing: !this.state.isPreviewing });\n  }\n\n  render() {\n    return (\n      <span>\n        <SaveAndPreviewComponent\n          key={this.props.topicId}\n          saveAll={this.onSaveAll.bind(this)}\n          isPreviewing={this.state.isPreviewing}\n          updatePreview={this.updatePreview.bind(this)} />\n        <div>\n          {this.state.widgets && this.state.widgets.map((widget, index) =>\n            <div>\n              <div className={\"col container fluid wbdv-widget info\"}>\n                {(!widget.widgetType || widget.widgetType === HEADING) &&\n                  <HeadingWidgetComponent\n                    key={widget.id}\n                    widget={widget}\n                    widgetOrder={index}\n                    getLastElement={this.getLastElement.bind(this)}\n                    moveUp={this.moveUp.bind(this, widget)}\n                    moveDown={this.moveDown.bind(this, widget)}\n                    onDelete={this.onDelete.bind(this, widget.id)}\n                    size={widget.size ? widget.size : DEFAULT_SIZE}\n                    name={widget.name || ''}\n                    text={widget.text || ''}\n                    updateWidget={this.updateWidget.bind(this, widget)}\n                    updateWidgetType={this.updateWidget.bind(this)}\n                    isPreviewing={this.state.isPreviewing} />}\n\n                {widget.widgetType === PARAGRAPH &&\n                  <ParagraphWidgetComponent\n                    key={widget.id}\n                    widget={widget}\n                    widgetOrder={index}\n                    getLastElement={this.getLastElement.bind(this)}\n                    moveUp={this.moveUp.bind(this, widget)}\n                    moveDown={this.moveDown.bind(this, widget)}\n                    onDelete={this.onDelete.bind(this, widget.id)}\n                    name={widget.name || ''}\n                    text={widget.text || ''}\n                    updateWidget={this.updateWidget.bind(this, widget)}\n                    updateWidgetType={this.updateWidget.bind(this)}\n                    isPreviewing={this.state.isPreviewing} />}\n\n                {widget.widgetType === LIST &&\n                  <ListWidgetComponent\n                    key={widget.id}\n                    widget={widget}\n                    widgetOrder={index}\n                    getLastElement={this.getLastElement.bind(this)}\n                    moveUp={this.moveUp.bind(this, widget)}\n                    moveDown={this.moveDown.bind(this, widget)}\n                    onDelete={this.onDelete.bind(this, widget.id)}\n                    name={widget.name || ''}\n                    items={widget.items || ''}\n                    updateWidget={this.updateWidget.bind(this, widget)}\n                    updateWidgetType={this.updateWidget.bind(this)}\n                    isPreviewing={this.state.isPreviewing} />}\n\n                {(widget.widgetType === IMAGE) &&\n                  <ImageWidgetComponent\n                    key={widget.id}\n                    widget={widget}\n                    widgetOrder={index}\n                    getLastElement={this.getLastElement.bind(this)}\n                    moveUp={this.moveUp.bind(this, widget)}\n                    moveDown={this.moveDown.bind(this, widget)}\n                    onDelete={this.onDelete.bind(this, widget.id)}\n                    name={widget.name || ''}\n                    url={widget.url || ''}\n                    updateWidget={this.updateWidget.bind(this, widget)}\n                    updateWidgetType={this.updateWidget.bind(this)}\n                    isPreviewing={this.state.isPreviewing} />}\n              </div>\n            </div>\n          )\n          }\n          {!this.state.isPreviewing &&\n            <div className=\"nav-item\" onClick={() => this.addWidget()}>\n              <i className=\"nav-link fa fa-plus-circle fa-2x\" />\n            </div>}\n        </div>\n      </span>\n    )\n  }\n}\n\nconst stateToPropertyMapper = (state) => {\n  return {\n    widgets: state.widgets.widgets\n  }\n};\n\nconst dispatchToPropertyMapper = (dispatch) => {\n  return {\n    createWidget: (topicId, widgetId) =>\n      dispatch(createWidget(topicId, widgetId)),\n\n    findAllWidgetsForTopic: (topicId) =>\n      service.findWidgetsForTopic(topicId)\n        .then(actualWidgets =>\n          dispatch(findAllWidgetsForTopic(actualWidgets))),\n\n    updateWidget: (widget) =>\n      dispatch(updateWidget(widget)),\n\n    deleteWidget: (widgetId) =>\n      dispatch(deleteWidget(widgetId)),\n\n    saveAllWidgets: (topicId, widgets) =>\n      service.saveAllWidgets(topicId, widgets)\n        .then(returnedWidgets =>\n          dispatch(saveAllWidgets(returnedWidgets))),\n\n    moveWidgetUp: (widget, other) =>\n      dispatch(moveWidgetUp(widget, other)),\n\n    moveWidgetDown: (widget, other) =>\n      dispatch(moveWidgetDown(widget, other))\n  }\n};\n\nexport default connect(\n  stateToPropertyMapper,\n  dispatchToPropertyMapper)\n  (WidgetListContainer)","import React from \"react\";\nimport '../../../node_modules/bootstrap/dist/css/bootstrap.css'\nimport '../../../node_modules/font-awesome/css/font-awesome.min.css';\nimport './CourseEditor.css'\nimport {combineReducers, createStore} from \"redux\";\nimport {Provider} from \"react-redux\";\n\nimport moduleReducer from '../../reducers/moduleReducer.js'\nimport lessonReducer from '../../reducers/lessonReducer.js'\nimport topicReducer from '../../reducers/topicReducer.js'\nimport widgetReducer from '../../reducers/widgetReducer.js'\n\nimport ModuleListContainer from '../../containers/ModuleListContainer';\nimport LessonTabContainer from \"../../containers/LessonTabContainer\";\nimport TopicPillContainer from \"../../containers/TopicPillContainer\";\nimport WidgetListContainer from \"../../containers/WidgetListContainer\";\n\nconst rootReducer = combineReducers({\n  modules: moduleReducer,\n  lessons: lessonReducer,\n  topics: topicReducer,\n  widgets: widgetReducer\n});\n\nexport const store = createStore(rootReducer);\n\nclass CourseEditorComponentStateful extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state={\n      selectedCourseId: props.courseId,\n      curPath: props.history.location.pathname\n    }\n  }\n\n  closeEditor() {\n    this.props.hideCourseEditor();\n    this.props.history.push(\"/\");\n  }\n\n  render() {\n    return (\n        <Provider store={store}>\n          <div className=\"container-fluid\">\n\n            <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark text-white wbdv-margin-below wbdv-nav\">\n              <button className=\"btn btn-sm pr-4 wbdv-white-icon wbdv-course-editor wbdv-close\"\n                onClick={() => this.closeEditor()}>\n                <i className=\"fa fa-times pt-1 fa-1.6x\"/></button>\n              <h2>Course Editor {this.props.courseTitle}</h2>\n            </nav>\n\n            <div className=\"row\">\n              \n              <div className=\"col-4\">\n                <h4>Module List</h4>\n                <ModuleListContainer\n                    curModuleId={this.props.moduleId}\n                    courseId={this.props.courseId}\n                    history={this.props.history}/>\n              </div>\n\n              {this.props.match.params.moduleId &&\n              <div className=\"col-8 container fluid wbdv-module-info\">\n                <h5>Lesson Tabs</h5>\n                <LessonTabContainer\n                    curLessonId={this.props.lessonId}\n                    moduleId={this.props.moduleId}\n                    courseId={this.props.courseId}\n                    history={this.props.history}/>\n\n                {this.props.match.params.lessonId &&\n                <div className=\"col container fluid\">\n                  <h5>Topic List</h5>\n                  <TopicPillContainer\n                      curTopicId={this.props.topicId}\n                      lessonId={this.props.lessonId}\n                      moduleId={this.props.moduleId}\n                      courseId={this.props.courseId}\n                      history={this.props.history}/>\n\n                  {this.props.match.params.topicId &&\n                  <span>\n                    <WidgetListContainer\n                        topicId={this.props.topicId}\n                        lessonId={this.props.lessonId}\n                        moduleId={this.props.moduleId}\n                        courseId={this.props.courseId}\n                        history={this.props.history}/>\n                  </span>\n                  }\n                </div>\n                }\n              </div>\n              }\n            </div>\n          </div>\n        </Provider>);\n  }\n}\n\nexport default CourseEditorComponentStateful;","import React from 'react'\nimport {Link} from \"react-router-dom\";\nimport '../../../../node_modules/bootstrap/dist/css/bootstrap.css';\nimport '../../../../node_modules/font-awesome/css/font-awesome.min.css';\nimport '../CourseManager.css';\n\nclass CourseGridCardComponent extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isEditing: false,\n      title: props.course.title,\n      course: props.course\n    }\n  };\n\n  onSaveCourse() {\n    const newCourse = {...this.props.course, title: this.state.title};\n    this.props.saveCourse(newCourse, newCourse._id);\n    this.setState({isEditing: false});\n  }\n\n  onChange(event) {\n    this.setState({title: event.target.value});\n  }\n\n  onEdit() {\n    this.setState({isEditing: true})\n  }\n\n  deleteCourse() {\n    this.props.deleteCourse(this.state.course);\n    this.setState({title: '', course: null})\n  }\n\n  onSelectCourse() {\n    this.props.onCourseTitleSelect(this.state.course.title);\n    this.props.showCourseEditor();\n  }\n\n  render() {\n    return (\n        <div\n            className={\"col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 card-body wbdv-grid\"}>\n\n          {!this.state.isEditing &&\n          <div>\n            <Link to={`/course/${this.state.course._id}`}>\n              <h5 className=\"card-title\" onClick={() => this.onSelectCourse()}>\n                {this.state.title}</h5>\n            </Link>\n            <div>\n              <i className=\"fa-2x fa fa-pencil\"\n                 onClick={() => this.onEdit()}/>\n              <i className=\"fa-2x fa fa-trash\"\n                 onClick={() => this.deleteCourse()}/>\n            </div>\n          </div>}\n\n          {this.state.isEditing &&\n          <div>\n            <input type=\"text\" className={\"typing-container\"}\n                   value={this.state.title}\n                   onChange={(e) => this.onChange(e)}/>\n            <i className=\"fa fa-check fa-2x\"\n               onClick={() => this.onSaveCourse()}/>\n          </div>}\n\n        </div>\n    )\n  };\n}\n\nexport default CourseGridCardComponent;","import React from 'react'\nimport '../../../../node_modules/bootstrap/dist/css/bootstrap.css';\nimport '../../../../node_modules/font-awesome/css/font-awesome.min.css';\nimport '../CourseManager.css';\n\nimport CourseGridCardComponent from './CourseGridCardComponent'\n\nconst CourseGridComponent = ({\n  courses, saveCourse, onCourseTitleSelect,\n  showCourseEditor, deleteCourse\n}) =>\n    <div className=\"container-fluid\">\n      <h3>Course Grid {courses.length}</h3>\n      <div className=\"row row-cols-3 card-deck\">\n        {courses && courses.map(course =>\n            <CourseGridCardComponent\n                key={course._id}\n                saveCourse={saveCourse}\n                onCourseTitleSelect={onCourseTitleSelect}\n                showCourseEditor={showCourseEditor}\n                deleteCourse={deleteCourse}\n                course={course}\n            />\n        )\n        }\n      </div>\n    </div>;\n\nexport default CourseGridComponent;","import React from \"react\";\nimport {Link} from \"react-router-dom\";\nimport '../../../../node_modules/bootstrap/dist/css/bootstrap.css';\nimport '../../../../node_modules/font-awesome/css/font-awesome.min.css';\nimport '../CourseManager.css';\n\nclass CourseRowComponent extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isEditing: false,\n      title: props.course.title,\n      course: props.course\n    };\n  }\n\n  onSaveCourse() {\n    const newCourse = {...this.state.course, title: this.state.title};\n    this.props.saveCourse(newCourse, this.state.course._id);\n    this.setState({isEditing: false});\n  }\n\n  onChange(event) {\n    this.setState({title: event.target.value});\n  }\n\n  onEdit() {\n    this.setState({isEditing: true})\n  }\n\n  deleteCourse() {\n    this.props.deleteCourse(this.state.course);\n    this.setState({title: '', course: null});\n  };\n\n  onSelectCourse() {\n    this.props.onCourseTitleSelect(this.state.course.title);\n    this.props.showCourseEditor();\n  }\n\n  render() {\n    return (\n        <li className={`list-group-item ${this.props.isSelected ? 'active'\n            : ''}`}\n            onClick={() => this.props.onHighlight(this.props.course._id)}>\n\n          {!this.state.isEditing &&\n          <div>\n            <Link to={`/course/${this.state.course._id}`}>\n              {this.props.isSelected &&\n              <text className={\"wbdv-selected\"}\n                    onClick={() => this.onSelectCourse()}>\n                {this.state.title}\n              </text>\n              }\n              {!this.props.isSelected &&\n              <text onClick={() => this.onSelectCourse()}>\n                {this.state.title}\n              </text>\n              }\n            </Link>\n            <span className={\"wbdv-icon float-right\"}>\n                <i className=\"fa-2x fa fa-pencil\"\n                   onClick={() => this.onEdit()}/>\n                <i className=\"fa-2x fa fa-trash\"\n                   onClick={() => this.deleteCourse()}/>\n              </span>\n          </div>}\n\n          {this.state.isEditing &&\n            <div>\n              <input type=\"text\" className={\"typing-container\"}\n                     value={this.state.title}\n                     onChange={(e) => this.onChange(e)}/>\n              <i className=\"fa fa-check fa-2x\"\n                 onClick={() => this.onSaveCourse()}/>\n            </div>}\n\n        </li>\n    )\n  }\n}\n\nexport default CourseRowComponent;","import React from 'react'\nimport '../../node_modules/bootstrap/dist/css/bootstrap.css'\nimport '../../node_modules/font-awesome/css/font-awesome.min.css';\nimport '../components/CourseManager/CourseManager.css';\nimport CourseRowComponent from \"../components/CourseManager/row/CourseRowComponent\";\n\nclass CourseTableContainer extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      highlightedCourseId: null\n    }\n  }\n\n  onHighlight(courseId) {\n    this.setState({highlightedCourseId: courseId});\n  }\n\n  render() {\n    return (\n        <div className=\"container-fluid\">\n          <h3>Course Table {this.props.courses.length}</h3>\n          <ul className=\"list-group\">\n            {this.props.courses && this.props.courses.map(course =>\n                <CourseRowComponent\n                    key={course._id}\n                    saveCourse={this.props.saveCourse}\n                    isSelected={course._id === this.state.highlightedCourseId}\n                    onHighlight={this.onHighlight.bind(this)}\n                    onCourseTitleSelect={this.props.onCourseTitleSelect}\n                    showCourseEditor={this.props.showCourseEditor}\n                    deleteCourse={this.props.deleteCourse}\n                    course={course}/>\n            )\n            }\n          </ul>\n        </div>\n    )\n  };\n}\n\nexport default CourseTableContainer\n","import React from 'react'\nimport '../../../node_modules/bootstrap/dist/css/bootstrap.css';\nimport '../../../node_modules/font-awesome/css/font-awesome.min.css';\nimport './CourseManager.css';\n\nconst CourseHeadingComponent = () =>\n    <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark text-white wbdv-margin-below wbdv-nav\">\n      <div className=\"pr-3\">\n         <span className=\"navbar-toggler-icon wbdv-field wbdv-hamburger\"/>\n      </div>\n      <text className=\"pr-2 wbdv-nav-title wbdv-label wbdv-course-manager\">\n        Course Manager</text>\n    </nav>;\n\nexport default CourseHeadingComponent","import React from 'react'\n// import {Link} from \"react-router-dom\";\nimport '../../../node_modules/bootstrap/dist/css/bootstrap.css';\nimport '../../../node_modules/font-awesome/css/font-awesome.min.css';\nimport './CourseManager.css';\n\nconst CourseSearchAndToggleComponent = ({updateFormState, addCourse, toggle}) =>\n    <div id=\"wbdv-search\" className=\"form-inline my-1 my-lg-0\">\n      <div>\n        <input\n            id=\"wbdv-search-bar\"\n            className=\"form-control mr-lg-2 wbdv-placeholder wbdv-field wbdv-new-course\"\n            onChange={(e) => updateFormState(e)}\n            placeholder=\"New Course\"\n            aria-label=\"Search\"/>\n        <i onClick={() => addCourse()}\n           className=\"fa fa-plus-circle fa-3x wbdv-add\"/>\n      </div>\n      <i onClick={() => toggle()}\n         className=\"fa fa-th fa-lg fa-3x wbdv-button wbdv-grid-layout\"/>\n    </div>;\n\nexport default CourseSearchAndToggleComponent;\n","import React from \"react\";\nimport '../../../node_modules/bootstrap/dist/css/bootstrap.css'\nimport '../../../node_modules/font-awesome/css/font-awesome.min.css';\nimport '../CourseManager/CourseManager.css'\nimport CourseGridComponent from \"./grid/CourseGridComponent\";\nimport CourseTableContainer from \"../../containers/CourseTableContainer\";\nimport CourseHeadingComponent from \"./CourseHeadingComponent\";\nimport CourseSearchAndToggleComponent from \"./CourseSearchAndToggleComponent\";\n\nconst CourseListComponent = ({layout, saveCourse, onCourseTitleSelect, updateFormState,\n  addCourse, toggle, courses, showCourseEditor, deleteCourse}) =>\n  <div className=\"container-fluid\">\n    <CourseHeadingComponent/>\n    <CourseSearchAndToggleComponent\n        updateFormState={updateFormState}\n        addCourse={addCourse}\n        toggle={toggle}/>\n    {layout === 'table' &&\n    <CourseTableContainer\n        courses={courses}\n        saveCourse={saveCourse}\n        onCourseTitleSelect={onCourseTitleSelect}\n        showCourseEditor={showCourseEditor}\n        deleteCourse={deleteCourse}/>}\n    {layout === 'grid' &&\n    <CourseGridComponent\n        courses={courses}\n        saveCourse={saveCourse}\n        onCourseTitleSelect={onCourseTitleSelect}\n        showCourseEditor={showCourseEditor}\n        deleteCourse={deleteCourse}/>}\n  </div>;\n\nexport default CourseListComponent;\n","import React from 'react'\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport '../../node_modules/bootstrap/dist/css/bootstrap.css'\nimport '../../node_modules/font-awesome/css/font-awesome.min.css';\nimport '../components/CourseManager/CourseManager.css'\nimport CourseService from \"../services/CourseService\";\nimport CourseEditorComponentStateful\n  from '../components/CourseEditor/CourseEditorComponentStateful';\nimport CourseListComponent\n  from '../components/CourseManager/CourseListComponent.js';\n\nconst service = new CourseService();\n\nclass CourseManagerContainer extends React.Component {\n\n  state = {\n    layout: 'table',\n    editingCourse: false,\n    selectedCourseTitle: null,\n    newCourseTitle: 'New Course',\n    courses: []\n  };\n\n  componentDidMount() {\n    this.updateCourses()\n  };\n\n  async updateCourses() {\n    const courses = await service.findAllCourses();\n    this.setState({ courses: courses });\n  }\n\n  async addCourse() {\n    await service.createCourse({ title: this.state.newCourseTitle });\n    this.updateCourses();\n  }\n\n  async saveCourse(courseId, course) {\n    await service.updateCourse(courseId, course);\n    await this.updateCourses();\n  }\n\n  onCourseTitleSelect(title) {\n    this.setState({ selectedCourseTitle: title });\n  }\n\n  async deleteCourse(deletedCourse) {\n    await service.deleteCourse(deletedCourse._id);\n    const courses = await service.findAllCourses();\n    this.setState({ courses: courses })\n  };\n\n  toggle() {\n    this.setState(prevState => ({\n      layout: prevState.layout === 'grid' ? 'table' : 'grid'\n    }))\n  };\n\n  updateFormState(event) {\n    this.setState({ newCourseTitle: event.target.value });\n  };\n\n  showCourseEditor() {\n    this.setState({ editingCourse: true });\n  }\n\n  hideCourseEditor() {\n    this.setState({ editingCourse: false });\n  }\n\n  render() {\n    return (\n      <div className=\"container-fluid\">\n        <Router>\n          <Route\n            path=\"/course/:courseId\"\n            exact={true}\n            render={(props) =>\n              <CourseEditorComponentStateful\n                {...props}\n                courseTitle={this.state.selectedCourseTitle}\n                courseId={props.match.params.courseId}\n                hideCourseEditor={this.hideCourseEditor.bind(this)} />\n            } />\n          <Route\n            path=\"/course/:courseId/module/:moduleId\"\n            exact={true}\n            render={(props) =>\n              <CourseEditorComponentStateful\n                {...props}\n                courseTitle={this.state.selectedCourseTitle}\n                moduleId={props.match.params.moduleId}\n                courseId={props.match.params.courseId}\n                hideCourseEditor={this.hideCourseEditor.bind(this)} />\n            } />\n          <Route\n            path=\"/course/:courseId/module/:moduleId/lesson/:lessonId\"\n            exact={true}\n            render={(props) =>\n              <CourseEditorComponentStateful\n                {...props}\n                courseTitle={this.state.selectedCourseTitle}\n                lessonId={props.match.params.lessonId}\n                moduleId={props.match.params.moduleId}\n                courseId={props.match.params.courseId}\n                hideCourseEditor={this.hideCourseEditor.bind(this)} />\n            } />\n          <Route\n            path=\"/course/:courseId/module/:moduleId/lesson/:lessonId/topic/:topicId\"\n            exact={true}\n            render={(props) =>\n              <CourseEditorComponentStateful\n                {...props}\n                courseTitle={this.state.selectedCourseTitle}\n                topicId={props.match.params.topicId}\n                lessonId={props.match.params.lessonId}\n                moduleId={props.match.params.moduleId}\n                courseId={props.match.params.courseId}\n                hideCourseEditor={this.hideCourseEditor.bind(this)} />\n            } />\n          <Route\n            path=\"/\"\n            exact={true}\n            render={() =>\n              <CourseListComponent\n                layout={this.state.layout}\n                saveCourse={this.saveCourse.bind(this)}\n                onCourseTitleSelect={this.onCourseTitleSelect.bind(this)}\n                updateFormState={this.updateFormState.bind(this)}\n                addCourse={this.addCourse.bind(this)}\n                toggle={this.toggle.bind(this)}\n                courses={this.state.courses}\n                showCourseEditor={this.showCourseEditor.bind(this)}\n                deleteCourse={this.deleteCourse.bind(this)} />\n            } />\n        </Router>\n      </div>\n    );\n  }\n}\n\nexport default CourseManagerContainer\n","import React from 'react';\nimport logo from './logo.svg';\n// import './App.css';\nimport CourseManagerContainer from \"./containers/CourseManagerContainer\";\n\nconst App = ({message, a, b}) => <CourseManagerContainer/>;\n\nexport default App;","const isLocalhost = Boolean(\n    window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n              'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n  .register(swUrl)\n  .then(registration => {\n    registration.onupdatefound = () => {\n      const installingWorker = registration.installing;\n      if (installingWorker == null) {\n        return;\n      }\n      installingWorker.onstatechange = () => {\n        if (installingWorker.state === 'installed') {\n          if (navigator.serviceWorker.controller) {\n            // At this point, the updated precached content has been fetched,\n            // but the previous service worker will still serve the older\n            // content until all client tabs are closed.\n            console.log(\n                'New content is available and will be used when all ' +\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n            );\n\n            // Execute callback\n            if (config && config.onUpdate) {\n              config.onUpdate(registration);\n            }\n          } else {\n            // At this point, everything has been precached.\n            // It's the perfect time to display a\n            // \"Content is cached for offline use.\" message.\n            console.log('Content is cached for offline use.');\n\n            // Execute callback\n            if (config && config.onSuccess) {\n              config.onSuccess(registration);\n            }\n          }\n        }\n      };\n    };\n  })\n  .catch(error => {\n    console.error('Error during service worker registration:', error);\n  });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n  .then(response => {\n    // Ensure service worker exists, and that we really are getting a JS file.\n    const contentType = response.headers.get('content-type');\n    if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n    ) {\n      // No service worker found. Probably a different app. Reload the page.\n      navigator.serviceWorker.ready.then(registration => {\n        registration.unregister().then(() => {\n          window.location.reload();\n        });\n      });\n    } else {\n      // Service worker found. Proceed as normal.\n      registerValidSW(swUrl, config);\n    }\n  })\n  .catch(() => {\n    console.log(\n        'No internet connection found. App is running in offline mode.'\n    );\n  });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport '../node_modules/bootstrap/dist/css/bootstrap.css'\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n    <App a={2} b={3} message=\"This is the message\"/>,\n    document.getElementById('root')\n);\n\nserviceWorker.unregister();"],"sourceRoot":""}