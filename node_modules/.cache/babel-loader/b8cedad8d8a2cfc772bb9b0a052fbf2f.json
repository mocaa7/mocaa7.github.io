{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mocaa7/src/git-website/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mocaa7/src/git-website/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/mocaa7/src/git-website/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mocaa7/src/git-website/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/mocaa7/src/git-website/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/mocaa7/src/git-website/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/mocaa7/src/git-website/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import{BrowserRouter as Router,Route}from\"react-router-dom\";import'../../node_modules/bootstrap/dist/css/bootstrap.css';import'../../node_modules/font-awesome/css/font-awesome.min.css';import'../components/CourseManager/CourseManager.css';import CourseService from\"../services/CourseService\";import CourseEditorComponentStateful from'../components/CourseEditor/CourseEditorComponentStateful';import CourseListComponent from'../components/CourseManager/CourseListComponent.js';var service=new CourseService();var CourseManagerContainer=/*#__PURE__*/function(_React$Component){_inherits(CourseManagerContainer,_React$Component);function CourseManagerContainer(){var _getPrototypeOf2;var _this;_classCallCheck(this,CourseManagerContainer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(CourseManagerContainer)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={layout:'table',editingCourse:false,selectedCourseTitle:null,newCourseTitle:'New Course',courses:[]};return _this;}_createClass(CourseManagerContainer,[{key:\"componentDidMount\",value:function componentDidMount(){this.updateCourses();}},{key:\"updateCourses\",value:function(){var _updateCourses=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var courses;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return service.findAllCourses();case 2:courses=_context.sent;this.setState({courses:courses});case 4:case\"end\":return _context.stop();}}},_callee,this);}));function updateCourses(){return _updateCourses.apply(this,arguments);}return updateCourses;}()},{key:\"addCourse\",value:function(){var _addCourse=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return service.createCourse({title:this.state.newCourseTitle});case 2:this.updateCourses();case 3:case\"end\":return _context2.stop();}}},_callee2,this);}));function addCourse(){return _addCourse.apply(this,arguments);}return addCourse;}()},{key:\"saveCourse\",value:function(){var _saveCourse=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(courseId,course){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return service.updateCourse(courseId,course);case 2:_context3.next=4;return this.updateCourses();case 4:case\"end\":return _context3.stop();}}},_callee3,this);}));function saveCourse(_x,_x2){return _saveCourse.apply(this,arguments);}return saveCourse;}()},{key:\"onCourseTitleSelect\",value:function onCourseTitleSelect(title){this.setState({selectedCourseTitle:title});}},{key:\"deleteCourse\",value:function(){var _deleteCourse=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(deletedCourse){var courses;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return service.deleteCourse(deletedCourse._id);case 2:_context4.next=4;return service.findAllCourses();case 4:courses=_context4.sent;this.setState({courses:courses});case 6:case\"end\":return _context4.stop();}}},_callee4,this);}));function deleteCourse(_x3){return _deleteCourse.apply(this,arguments);}return deleteCourse;}()},{key:\"toggle\",value:function toggle(){this.setState(function(prevState){return{layout:prevState.layout==='grid'?'table':'grid'};});}},{key:\"updateFormState\",value:function updateFormState(event){this.setState({newCourseTitle:event.target.value});}},{key:\"showCourseEditor\",value:function showCourseEditor(){this.setState({editingCourse:true});}},{key:\"hideCourseEditor\",value:function hideCourseEditor(){this.setState({editingCourse:false});}},{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"div\",{className:\"container-fluid\"},React.createElement(Router,null,React.createElement(Route,{path:\"/course/:courseId\",exact:true,render:function render(props){return React.createElement(CourseEditorComponentStateful,Object.assign({},props,{courseTitle:_this2.state.selectedCourseTitle,courseId:props.match.params.courseId,hideCourseEditor:_this2.hideCourseEditor.bind(_this2)}));}}),React.createElement(Route,{path:\"/course/:courseId/module/:moduleId\",exact:true,render:function render(props){return React.createElement(CourseEditorComponentStateful,Object.assign({},props,{courseTitle:_this2.state.selectedCourseTitle,moduleId:props.match.params.moduleId,courseId:props.match.params.courseId,hideCourseEditor:_this2.hideCourseEditor.bind(_this2)}));}}),React.createElement(Route,{path:\"/course/:courseId/module/:moduleId/lesson/:lessonId\",exact:true,render:function render(props){return React.createElement(CourseEditorComponentStateful,Object.assign({},props,{courseTitle:_this2.state.selectedCourseTitle,lessonId:props.match.params.lessonId,moduleId:props.match.params.moduleId,courseId:props.match.params.courseId,hideCourseEditor:_this2.hideCourseEditor.bind(_this2)}));}}),React.createElement(Route,{path:\"/course/:courseId/module/:moduleId/lesson/:lessonId/topic/:topicId\",exact:true,render:function render(props){return React.createElement(CourseEditorComponentStateful,Object.assign({},props,{courseTitle:_this2.state.selectedCourseTitle,topicId:props.match.params.topicId,lessonId:props.match.params.lessonId,moduleId:props.match.params.moduleId,courseId:props.match.params.courseId,hideCourseEditor:_this2.hideCourseEditor.bind(_this2)}));}}),React.createElement(Route,{path:\"/\",exact:true,render:function render(){return React.createElement(CourseListComponent,{layout:_this2.state.layout,saveCourse:_this2.saveCourse.bind(_this2),onCourseTitleSelect:_this2.onCourseTitleSelect.bind(_this2),updateFormState:_this2.updateFormState.bind(_this2),addCourse:_this2.addCourse.bind(_this2),toggle:_this2.toggle.bind(_this2),courses:_this2.state.courses,showCourseEditor:_this2.showCourseEditor.bind(_this2),deleteCourse:_this2.deleteCourse.bind(_this2)});}})));}}]);return CourseManagerContainer;}(React.Component);export default CourseManagerContainer;","map":{"version":3,"sources":["/Users/mocaa7/src/git-website/src/containers/CourseManagerContainer.js"],"names":["React","BrowserRouter","Router","Route","CourseService","CourseEditorComponentStateful","CourseListComponent","service","CourseManagerContainer","state","layout","editingCourse","selectedCourseTitle","newCourseTitle","courses","updateCourses","findAllCourses","setState","createCourse","title","courseId","course","updateCourse","deletedCourse","deleteCourse","_id","prevState","event","target","value","props","match","params","hideCourseEditor","bind","moduleId","lessonId","topicId","saveCourse","onCourseTitleSelect","updateFormState","addCourse","toggle","showCourseEditor","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport '../../node_modules/bootstrap/dist/css/bootstrap.css'\nimport '../../node_modules/font-awesome/css/font-awesome.min.css';\nimport '../components/CourseManager/CourseManager.css'\nimport CourseService from \"../services/CourseService\";\nimport CourseEditorComponentStateful\n  from '../components/CourseEditor/CourseEditorComponentStateful';\nimport CourseListComponent\n  from '../components/CourseManager/CourseListComponent.js';\n\nconst service = new CourseService();\n\nclass CourseManagerContainer extends React.Component {\n\n  state = {\n    layout: 'table',\n    editingCourse: false,\n    selectedCourseTitle: null,\n    newCourseTitle: 'New Course',\n    courses: []\n  };\n\n  componentDidMount() {\n    this.updateCourses()\n  };\n\n  async updateCourses() {\n    const courses = await service.findAllCourses();\n    this.setState({ courses: courses });\n  }\n\n  async addCourse() {\n    await service.createCourse({ title: this.state.newCourseTitle });\n    this.updateCourses();\n  }\n\n  async saveCourse(courseId, course) {\n    await service.updateCourse(courseId, course);\n    await this.updateCourses();\n  }\n\n  onCourseTitleSelect(title) {\n    this.setState({ selectedCourseTitle: title });\n  }\n\n  async deleteCourse(deletedCourse) {\n    await service.deleteCourse(deletedCourse._id);\n    const courses = await service.findAllCourses();\n    this.setState({ courses: courses })\n  };\n\n  toggle() {\n    this.setState(prevState => ({\n      layout: prevState.layout === 'grid' ? 'table' : 'grid'\n    }))\n  };\n\n  updateFormState(event) {\n    this.setState({ newCourseTitle: event.target.value });\n  };\n\n  showCourseEditor() {\n    this.setState({ editingCourse: true });\n  }\n\n  hideCourseEditor() {\n    this.setState({ editingCourse: false });\n  }\n\n  render() {\n    return (\n      <div className=\"container-fluid\">\n        <Router>\n          <Route\n            path=\"/course/:courseId\"\n            exact={true}\n            render={(props) =>\n              <CourseEditorComponentStateful\n                {...props}\n                courseTitle={this.state.selectedCourseTitle}\n                courseId={props.match.params.courseId}\n                hideCourseEditor={this.hideCourseEditor.bind(this)} />\n            } />\n          <Route\n            path=\"/course/:courseId/module/:moduleId\"\n            exact={true}\n            render={(props) =>\n              <CourseEditorComponentStateful\n                {...props}\n                courseTitle={this.state.selectedCourseTitle}\n                moduleId={props.match.params.moduleId}\n                courseId={props.match.params.courseId}\n                hideCourseEditor={this.hideCourseEditor.bind(this)} />\n            } />\n          <Route\n            path=\"/course/:courseId/module/:moduleId/lesson/:lessonId\"\n            exact={true}\n            render={(props) =>\n              <CourseEditorComponentStateful\n                {...props}\n                courseTitle={this.state.selectedCourseTitle}\n                lessonId={props.match.params.lessonId}\n                moduleId={props.match.params.moduleId}\n                courseId={props.match.params.courseId}\n                hideCourseEditor={this.hideCourseEditor.bind(this)} />\n            } />\n          <Route\n            path=\"/course/:courseId/module/:moduleId/lesson/:lessonId/topic/:topicId\"\n            exact={true}\n            render={(props) =>\n              <CourseEditorComponentStateful\n                {...props}\n                courseTitle={this.state.selectedCourseTitle}\n                topicId={props.match.params.topicId}\n                lessonId={props.match.params.lessonId}\n                moduleId={props.match.params.moduleId}\n                courseId={props.match.params.courseId}\n                hideCourseEditor={this.hideCourseEditor.bind(this)} />\n            } />\n          <Route\n            path=\"/\"\n            exact={true}\n            render={() =>\n              <CourseListComponent\n                layout={this.state.layout}\n                saveCourse={this.saveCourse.bind(this)}\n                onCourseTitleSelect={this.onCourseTitleSelect.bind(this)}\n                updateFormState={this.updateFormState.bind(this)}\n                addCourse={this.addCourse.bind(this)}\n                toggle={this.toggle.bind(this)}\n                courses={this.state.courses}\n                showCourseEditor={this.showCourseEditor.bind(this)}\n                deleteCourse={this.deleteCourse.bind(this)} />\n            } />\n        </Router>\n      </div>\n    );\n  }\n}\n\nexport default CourseManagerContainer\n"]},"metadata":{},"sourceType":"module"}