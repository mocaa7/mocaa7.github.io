{"ast":null,"code":"var _jsxFileName = \"/Users/mocaa7/src/mocaa7/cs5610/wbdv-sp-20-mocaa7-client-react/src/components/CourseEditor/Lessons/LessonTabComponent.js\";\nimport React from 'react'; // import {connect} from \"react-redux\";\n\nimport '../../../../node_modules/bootstrap/dist/css/bootstrap.css';\nimport '../../../../node_modules/font-awesome/css/font-awesome.min.css';\nimport '../../CourseEditor/CourseEditor.css'; // import {createLesson, deleteLesson, findLessonsForModule, updateLesson} from '../../../actions/lessonActions'\n// import lessonService from '../../../services/lessonService';\n// const LessonTabComponent = (lessons) =>\n//     <p>{JSON.stringify(lessons)}</p>;\n//     {/*<div>*/}\n//     {/*  <div class=\"collapse navbar-collapse\">*/}\n//     {/*    <ul className=\"navbar-nav\">*/}\n//     {/*      {*/}\n//     {/*        lessons.map(lesson =>*/}\n//     {/*            <LessonTabItem key={lesson._id} lesson={lesson}/>)*/}\n//     {/*      }*/}\n//     {/*    </ul>*/}\n//     {/*  </div>*/}\n//     {/*  <button type=\"button\" onClick=\"window.location.href='#';\"*/}\n//     {/*          className=\"btn btn-default rounded-circle wbdv-white-icon wbdv-new-page-btn\">*/}\n//     {/*    <i className=\"fa fa-plus-circle pt-1 fa-2x\"></i>*/}\n//     {/*  </button>*/}\n//     {/*</div>;*/}\n// export default LessonTabComponent\n\nconst lessonService = new lessonService();\n\nclass LessonTabComponent extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      selectedLesson: null,\n      // editinglessonId: '',\n      lessons: []\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      lessons: lessonService.findLessonsForModule(this.props.moduleId)\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (this.props.lessonId !== prevProps.lessonId) {\n      lessonService.findLessonsForModule(this.props.moduleId);\n    }\n  }\n\n  updateLessonTitle(event) {\n    this.setState(prevState => ({\n      lesson: { ...prevState.lesson,\n        title: event.target.value\n      }\n    }));\n  }\n\n  render() {\n    return React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, JSON.stringify(lessons));\n  }\n\n}\n\nconst stateToPropertyMapper = state => {\n  return {\n    lessons: state.lessons.lessons\n  };\n};\n\nconst dispatchToPropertyMapper = dispatch => {\n  return {\n    createLesson: moduleId => lessonService.createLesson(moduleId, {\n      title: 'New lesson'\n    }).then(actuallesson => dispatch(createLesson(actuallesson))),\n    findLessonsForModule: moduleId => lessonService.findLessonsForModule(moduleId).then(actuallessons => dispatch(findLessonsForModule(actuallessons))),\n    // TODO: pass moduleId or lesson?\n    updateLesson: (lessonId, lesson) => lessonService.updateLesson(lessonId, lesson).then(updatedlesson => dispatch(updateLesson(updatedlesson))),\n    deleteLesson: lessonId => lessonService.deleteLesson(lessonId).then(status => dispatch(deleteLesson(lessonId)))\n  };\n};\n\nexport default connect(stateToPropertyMapper, dispatchToPropertyMapper)(LessonTabComponent);","map":{"version":3,"sources":["/Users/mocaa7/src/mocaa7/cs5610/wbdv-sp-20-mocaa7-client-react/src/components/CourseEditor/Lessons/LessonTabComponent.js"],"names":["React","lessonService","LessonTabComponent","Component","state","selectedLesson","lessons","componentDidMount","setState","findLessonsForModule","props","moduleId","componentDidUpdate","prevProps","prevState","snapshot","lessonId","updateLessonTitle","event","lesson","title","target","value","render","JSON","stringify","stateToPropertyMapper","dispatchToPropertyMapper","dispatch","createLesson","then","actuallesson","actuallessons","updateLesson","updatedlesson","deleteLesson","status","connect"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;;AACA,OAAO,2DAAP;AACA,OAAO,gEAAP;AACA,OAAO,qCAAP,C,CACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEA,MAAMC,aAAa,GAAG,IAAIA,aAAJ,EAAtB;;AAEA,MAAMC,kBAAN,SAAiCF,KAAK,CAACG,SAAvC,CAAiD;AAAA;AAAA;AAAA,SAmB/CC,KAnB+C,GAmBvC;AACNC,MAAAA,cAAc,EAAE,IADV;AAEN;AACAC,MAAAA,OAAO,EAAE;AAHH,KAnBuC;AAAA;;AAC/CC,EAAAA,iBAAiB,GAAG;AAClB,SAAKC,QAAL,CAAc;AAACF,MAAAA,OAAO,EAAEL,aAAa,CAACQ,oBAAd,CAAmC,KAAKC,KAAL,CAAWC,QAA9C;AAAV,KAAd;AACD;;AAEDC,EAAAA,kBAAkB,CAACC,SAAD,EAAYC,SAAZ,EAAuBC,QAAvB,EAAiC;AACjD,QAAG,KAAKL,KAAL,CAAWM,QAAX,KAAwBH,SAAS,CAACG,QAArC,EAA+C;AAC7Cf,MAAAA,aAAa,CAACQ,oBAAd,CAAmC,KAAKC,KAAL,CAAWC,QAA9C;AACD;AACF;;AAEDM,EAAAA,iBAAiB,CAACC,KAAD,EAAQ;AACvB,SAAKV,QAAL,CAAcM,SAAS,KAAK;AAC1BK,MAAAA,MAAM,EAAE,EACN,GAAGL,SAAS,CAACK,MADP;AAENC,QAAAA,KAAK,EAAEF,KAAK,CAACG,MAAN,CAAaC;AAFd;AADkB,KAAL,CAAvB;AAKD;;AAQDC,EAAAA,MAAM,GAAG;AACP,WAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIC,IAAI,CAACC,SAAL,CAAenB,OAAf,CAAJ,CAAR;AACD;;AA3B8C;;AA8BjD,MAAMoB,qBAAqB,GAAItB,KAAD,IAAW;AACvC,SAAO;AACLE,IAAAA,OAAO,EAAEF,KAAK,CAACE,OAAN,CAAcA;AADlB,GAAP;AAGD,CAJD;;AAMA,MAAMqB,wBAAwB,GAAIC,QAAD,IAAc;AAC7C,SAAO;AACLC,IAAAA,YAAY,EAAGlB,QAAD,IACVV,aAAa,CAAC4B,YAAd,CAA2BlB,QAA3B,EAAqC;AAACS,MAAAA,KAAK,EAAE;AAAR,KAArC,EACCU,IADD,CACMC,YAAY,IACdH,QAAQ,CAACC,YAAY,CAACE,YAAD,CAAb,CAFZ,CAFC;AAMLtB,IAAAA,oBAAoB,EAAGE,QAAD,IAClBV,aAAa,CAACQ,oBAAd,CAAmCE,QAAnC,EACCmB,IADD,CACME,aAAa,IACfJ,QAAQ,CAACnB,oBAAoB,CAACuB,aAAD,CAArB,CAFZ,CAPC;AAWL;AACAC,IAAAA,YAAY,EAAE,CAACjB,QAAD,EAAWG,MAAX,KACVlB,aAAa,CAACgC,YAAd,CAA2BjB,QAA3B,EAAqCG,MAArC,EACCW,IADD,CACMI,aAAa,IACfN,QAAQ,CAACK,YAAY,CAACC,aAAD,CAAb,CAFZ,CAbC;AAiBLC,IAAAA,YAAY,EAAGnB,QAAD,IACVf,aAAa,CAACkC,YAAd,CAA2BnB,QAA3B,EACCc,IADD,CACMM,MAAM,IACRR,QAAQ,CAACO,YAAY,CAACnB,QAAD,CAAb,CAFZ;AAlBC,GAAP;AAsBD,CAvBD;;AAyBA,eAAeqB,OAAO,CAClBX,qBADkB,EAElBC,wBAFkB,CAAP,CAGdzB,kBAHc,CAAf","sourcesContent":["import React from 'react';\n// import {connect} from \"react-redux\";\nimport '../../../../node_modules/bootstrap/dist/css/bootstrap.css'\nimport '../../../../node_modules/font-awesome/css/font-awesome.min.css';\nimport '../../CourseEditor/CourseEditor.css'\n// import {createLesson, deleteLesson, findLessonsForModule, updateLesson} from '../../../actions/lessonActions'\n// import lessonService from '../../../services/lessonService';\n\n// const LessonTabComponent = (lessons) =>\n//     <p>{JSON.stringify(lessons)}</p>;\n//     {/*<div>*/}\n//     {/*  <div class=\"collapse navbar-collapse\">*/}\n//     {/*    <ul className=\"navbar-nav\">*/}\n//     {/*      {*/}\n//     {/*        lessons.map(lesson =>*/}\n//     {/*            <LessonTabItem key={lesson._id} lesson={lesson}/>)*/}\n//     {/*      }*/}\n//     {/*    </ul>*/}\n//     {/*  </div>*/}\n//     {/*  <button type=\"button\" onClick=\"window.location.href='#';\"*/}\n//     {/*          className=\"btn btn-default rounded-circle wbdv-white-icon wbdv-new-page-btn\">*/}\n//     {/*    <i className=\"fa fa-plus-circle pt-1 fa-2x\"></i>*/}\n//     {/*  </button>*/}\n//     {/*</div>;*/}\n\n// export default LessonTabComponent\n\nconst lessonService = new lessonService();\n\nclass LessonTabComponent extends React.Component {\n  componentDidMount() {\n    this.setState({lessons: lessonService.findLessonsForModule(this.props.moduleId)});\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if(this.props.lessonId !== prevProps.lessonId) {\n      lessonService.findLessonsForModule(this.props.moduleId);\n    }\n  }\n\n  updateLessonTitle(event) {\n    this.setState(prevState => ({\n      lesson: {\n        ...prevState.lesson,\n        title: event.target.value\n      }}))\n  }\n\n  state = {\n    selectedLesson: null,\n    // editinglessonId: '',\n    lessons: [],\n  };\n\n  render() {\n    return (<p>{JSON.stringify(lessons)}</p>);\n  }\n}\n\nconst stateToPropertyMapper = (state) => {\n  return {\n    lessons: state.lessons.lessons\n  }\n}\n\nconst dispatchToPropertyMapper = (dispatch) => {\n  return {\n    createLesson: (moduleId) =>\n        lessonService.createLesson(moduleId, {title: 'New lesson'})\n        .then(actuallesson =>\n            dispatch(createLesson(actuallesson))),\n\n    findLessonsForModule: (moduleId) =>\n        lessonService.findLessonsForModule(moduleId)\n        .then(actuallessons =>\n            dispatch(findLessonsForModule(actuallessons))),\n\n    // TODO: pass moduleId or lesson?\n    updateLesson: (lessonId, lesson) =>\n        lessonService.updateLesson(lessonId, lesson)\n        .then(updatedlesson =>\n            dispatch(updateLesson(updatedlesson))),\n\n    deleteLesson: (lessonId) =>\n        lessonService.deleteLesson(lessonId)\n        .then(status =>\n            dispatch(deleteLesson(lessonId)))\n  }\n};\n\nexport default connect(\n    stateToPropertyMapper,\n    dispatchToPropertyMapper)\n(LessonTabComponent)"]},"metadata":{},"sourceType":"module"}